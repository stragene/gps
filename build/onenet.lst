ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"onenet.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.MqttSample_HandlePingResp,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	MqttSample_HandlePingResp:
  27              	.LFB123:
  28              		.file 1 "./user/source/onenet.c"
   1:./user/source/onenet.c **** #include "uart.h"
   2:./user/source/onenet.c **** #include "onenet.h"
   3:./user/source/onenet.c **** #include "sim800.h"
   4:./user/source/onenet.c **** 
   5:./user/source/onenet.c **** char g_cmdid[STRLEN];
   6:./user/source/onenet.c **** static char *topics[] = {"gps", "test2"};
   7:./user/source/onenet.c **** static struct MqttSampleContext onenetContex;
   8:./user/source/onenet.c **** static struct MqttSampleContext *onenetCtx = &onenetContex;
   9:./user/source/onenet.c **** void sendHttpPkt(char *phead, char *pbody)
  10:./user/source/onenet.c **** {
  11:./user/source/onenet.c ****     char sendBuf0[20];
  12:./user/source/onenet.c ****     char sendBuf1[500];
  13:./user/source/onenet.c **** 
  14:./user/source/onenet.c ****     sprintf(sendBuf1, "%s%d\r\n\r\n%s", phead, strlen(pbody), pbody);
  15:./user/source/onenet.c ****     //printf("send HTTP pkt:\r\n%s\r\n", sendBuf1);
  16:./user/source/onenet.c ****     pSim800GPRS->SendCmd("AT+CIPSEND=%d\r\n", ">", TICKS_500MS, 1);
  17:./user/source/onenet.c ****     pSim800GPRS->AutoReadEn();
  18:./user/source/onenet.c ****     pSim800GPRS->SendData((uint8_t *)sendBuf1, strlen(sendBuf1), 50 * TICKS_1S);
  19:./user/source/onenet.c **** }
  20:./user/source/onenet.c **** 
  21:./user/source/onenet.c **** /**
  22:./user/source/onenet.c ****   * @brief     ä¸²å£æ•°æ®è§£æž
  23:./user/source/onenet.c ****   * @param     bufferï¼Œä¸²å£æŽ¥æ”¶æ•°æ®ç¼“å­˜
  24:./user/source/onenet.c ****   * @param     plenï¼Œ ç”¨äºŽä¿å­˜è§£æžåŽEDPæ•°æ®çš„é•¿åº¦
  25:./user/source/onenet.c ****   * @attention ç”±äºŽä¸²å£æ•°æ®å‚æ‚ç€8266æ¨¡å—çš„ä¸ŠæŠ¥ä¿¡æ¯ï¼Œéœ€è¦å°†ä¸²å£æ•°æ®è¿›è¡Œè§
  26:./user/source/onenet.c ****   *            æ ¹æ®æ¨¡å—æ‰‹å†Œï¼Œè‹¥æ”¶åˆ° +IPD, åˆ™è¡¨æ˜Žæ”¶åˆ°äº†æœåŠ¡å™¨çš„ä¸‹å‘æ•°æ®
  27:./user/source/onenet.c ****   * @retval    ä¸²å£æ•°æ®ä¸­EDPæ•°æ®çš„é¦–æŒ‡é’ˆï¼Œè‹¥æ²¡æœ‰æ•°æ®åˆ™è¿”å›žNULL
  28:./user/source/onenet.c ****   */
  29:./user/source/onenet.c **** char *uartDataParse(char *buffer, int32_t *plen)
  30:./user/source/onenet.c **** {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 2


  31:./user/source/onenet.c ****     char *p;
  32:./user/source/onenet.c ****     char *pnum;
  33:./user/source/onenet.c ****     int32_t len;
  34:./user/source/onenet.c ****     if ((p = strstr(buffer, "CLOSED")) != NULL)
  35:./user/source/onenet.c ****     {
  36:./user/source/onenet.c ****         printf("tcp connection closed\r\n");
  37:./user/source/onenet.c ****     }
  38:./user/source/onenet.c ****     if ((p = strstr(buffer, "WIFI DISCONNECT")) != NULL)
  39:./user/source/onenet.c ****     {
  40:./user/source/onenet.c ****         printf("wifi disconnected\r\n");
  41:./user/source/onenet.c ****     }
  42:./user/source/onenet.c ****     if ((p = strstr(buffer, "WIFI CONNECTED")) != NULL)
  43:./user/source/onenet.c ****     {
  44:./user/source/onenet.c ****         printf("wifi connected\r\n");
  45:./user/source/onenet.c ****     }
  46:./user/source/onenet.c ****     if ((p = strstr(buffer, "+IPD")) != NULL)
  47:./user/source/onenet.c ****     {
  48:./user/source/onenet.c ****         pnum = p + 5;       //è·³è¿‡å¤´éƒ¨çš„ "+IPD,"ï¼ŒæŒ‡å‘é•¿åº¦å­—æ®µçš„é¦–åœ°å€
  49:./user/source/onenet.c ****         p = strstr(p, ":"); //æŒ‡å‘é•¿åº¦å­—æ®µæœ«å°¾
  50:./user/source/onenet.c ****         *(p++) = '\0';      //é•¿åº¦å­—æ®µæœ«å°¾æ·»åŠ ç»“æŸç¬¦ï¼ŒpæŒ‡å‘æœåŠ¡å™¨ä¸‹å‘çš„ç¬¬ä¸€ä¸
  51:./user/source/onenet.c ****         len = atoi(pnum);
  52:./user/source/onenet.c ****         //printf("rcv %d data from OneNET:\r\n", len);
  53:./user/source/onenet.c ****         //hexdump(p, len);    //æ‰“å°æŽ¥æ”¶æ•°æ®
  54:./user/source/onenet.c ****         *plen = len;
  55:./user/source/onenet.c ****         return p;
  56:./user/source/onenet.c ****     }
  57:./user/source/onenet.c ****     return NULL;
  58:./user/source/onenet.c **** }
  59:./user/source/onenet.c **** 
  60:./user/source/onenet.c **** /**
  61:./user/source/onenet.c ****   * @brief  éžé€ä¼ æ¨¡å¼å‘é€MQTTæŠ¥æ–‡
  62:./user/source/onenet.c ****   */
  63:./user/source/onenet.c **** void sendPkt(char *p, int len)
  64:./user/source/onenet.c **** {
  65:./user/source/onenet.c ****     char sendBuf[30];
  66:./user/source/onenet.c ****     char rsvData = 0;
  67:./user/source/onenet.c **** 
  68:./user/source/onenet.c ****     /* éžé€ä¼ æ¨¡å¼å…ˆå‘é€AT+CIPSEND=X */
  69:./user/source/onenet.c ****     sprintf(sendBuf, "AT+CIPSEND=%d\r\n", len);
  70:./user/source/onenet.c ****     //SendCmd(sendBuf, ">", 500);
  71:./user/source/onenet.c ****     //pSim800GPRS->SendCmd("AT+CIPSEND=%d\r\n", ">", 500, 1);
  72:./user/source/onenet.c ****     pSim800GPRS->SendCmd(sendBuf, ">", TICKS_500MS, 1);
  73:./user/source/onenet.c ****     /* MQTTè®¾å¤‡è¿žæŽ¥åŒ…ï¼Œå‘é€ */
  74:./user/source/onenet.c ****     pSim800GPRS->SendData(p, len, 50 * TICKS_1S);
  75:./user/source/onenet.c **** }
  76:./user/source/onenet.c **** 
  77:./user/source/onenet.c **** //-------------------------------- Commands ------------------------------------------------------
  78:./user/source/onenet.c **** static int MqttSample_Connect(struct MqttSampleContext *ctx, char *proid, char *auth_info, const ch
  79:./user/source/onenet.c **** {
  80:./user/source/onenet.c ****     int err, flags;
  81:./user/source/onenet.c ****     printf("product id: %s\r\nsn: %s\r\ndeviceid: %s\r\nkeepalive: %d\r\ncleansession: %d\r\nQoS: %
  82:./user/source/onenet.c ****            proid, auth_info, devid, keep_alive, clean_session, MQTT_QOS_LEVEL0);
  83:./user/source/onenet.c ****     err = Mqtt_PackConnectPkt(ctx->mqttbuf, keep_alive, devid,
  84:./user/source/onenet.c ****                               clean_session, NULL,
  85:./user/source/onenet.c ****                               NULL, 0,
  86:./user/source/onenet.c ****                               MQTT_QOS_LEVEL0, 0, proid,
  87:./user/source/onenet.c ****                               auth_info, strlen(auth_info));
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 3


  88:./user/source/onenet.c ****     if (MQTTERR_NOERROR != err)
  89:./user/source/onenet.c ****     {
  90:./user/source/onenet.c ****         printf("Failed to pack the MQTT CONNECT PACKET, errcode is %d.\n", err);
  91:./user/source/onenet.c ****         return -1;
  92:./user/source/onenet.c ****     }
  93:./user/source/onenet.c **** 
  94:./user/source/onenet.c ****     return 0;
  95:./user/source/onenet.c **** }
  96:./user/source/onenet.c **** 
  97:./user/source/onenet.c **** static int MqttSample_RecvPkt(void *arg, void *buf, uint32_t count)
  98:./user/source/onenet.c **** {
  99:./user/source/onenet.c ****     int i;
 100:./user/source/onenet.c ****     int rcv_len = 0, onenetdata_len = 0;
 101:./user/source/onenet.c ****     uint8_t buffer[128] = {0};
 102:./user/source/onenet.c ****     char *p = NULL;
 103:./user/source/onenet.c ****     if (uwBuf_UnReadLen(pUartGPRS->pRsvbuf))
 104:./user/source/onenet.c ****     {
 105:./user/source/onenet.c ****         onenetdata_len = Uart_Read(pUartGPRS, buf, count);
 106:./user/source/onenet.c ****     }
 107:./user/source/onenet.c ****     return onenetdata_len;
 108:./user/source/onenet.c **** }
 109:./user/source/onenet.c **** 
 110:./user/source/onenet.c **** static int MqttSample_SendPkt(void *arg, const struct iovec *iov, int iovcnt)
 111:./user/source/onenet.c **** {
 112:./user/source/onenet.c ****     char sendbuf[1024];
 113:./user/source/onenet.c ****     int len = 0;
 114:./user/source/onenet.c ****     int bytes;
 115:./user/source/onenet.c ****     int i = 0, j = 0;
 116:./user/source/onenet.c ****     printf("send one pkt\n");
 117:./user/source/onenet.c ****     for (i = 0; i < iovcnt; ++i)
 118:./user/source/onenet.c ****     {
 119:./user/source/onenet.c ****         char *pkg = (char *)iov[i].iov_base;
 120:./user/source/onenet.c ****         for (j = 0; j < iov[i].iov_len; ++j)
 121:./user/source/onenet.c ****         {
 122:./user/source/onenet.c ****             printf("%02X ", pkg[j] & 0xFF);
 123:./user/source/onenet.c ****         }
 124:./user/source/onenet.c ****         printf("\n");
 125:./user/source/onenet.c **** 
 126:./user/source/onenet.c ****         memcpy(sendbuf + len, iov[i].iov_base, iov[i].iov_len);
 127:./user/source/onenet.c ****         len += iov[i].iov_len;
 128:./user/source/onenet.c ****     }
 129:./user/source/onenet.c **** 
 130:./user/source/onenet.c ****     sendPkt(sendbuf, len);
 131:./user/source/onenet.c ****     printf("send over\n");
 132:./user/source/onenet.c ****     //return bytes;
 133:./user/source/onenet.c ****     return len;
 134:./user/source/onenet.c **** }
 135:./user/source/onenet.c **** 
 136:./user/source/onenet.c **** //------------------------------- packet handlers -------------------------------------------
 137:./user/source/onenet.c **** static int MqttSample_HandleConnAck(void *arg, char flags, char ret_code)
 138:./user/source/onenet.c **** {
 139:./user/source/onenet.c ****     printf("Success to connect to the server, flags(%0x), code(%d).\n",
 140:./user/source/onenet.c ****            flags, ret_code);
 141:./user/source/onenet.c ****     return 0;
 142:./user/source/onenet.c **** }
 143:./user/source/onenet.c **** 
 144:./user/source/onenet.c **** static int MqttSample_HandlePingResp(void *arg)
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 4


 145:./user/source/onenet.c **** {
  29              		.loc 1 145 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 146:./user/source/onenet.c ****     printf("Recv the ping response.\n");
  39              		.loc 1 146 0
  40 0002 0248     		ldr	r0, .L3
  41              	.LVL1:
  42 0004 FFF7FEFF 		bl	puts
  43              	.LVL2:
 147:./user/source/onenet.c ****     return 0;
 148:./user/source/onenet.c **** }
  44              		.loc 1 148 0
  45 0008 0020     		movs	r0, #0
  46 000a 08BD     		pop	{r3, pc}
  47              	.L4:
  48              		.align	2
  49              	.L3:
  50 000c 00000000 		.word	.LC0
  51              		.cfi_endproc
  52              	.LFE123:
  54              		.section	.text.MqttSample_HandleUnsubAck,"ax",%progbits
  55              		.align	2
  56              		.thumb
  57              		.thumb_func
  59              	MqttSample_HandleUnsubAck:
  60              	.LFB130:
 149:./user/source/onenet.c **** 
 150:./user/source/onenet.c **** static int MqttSample_HandlePublish(void *arg, uint16_t pkt_id, const char *topic,
 151:./user/source/onenet.c ****                                     const char *payload, uint32_t payloadsize,
 152:./user/source/onenet.c ****                                     int dup, enum MqttQosLevel qos)
 153:./user/source/onenet.c **** {
 154:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 155:./user/source/onenet.c ****     ctx->pkt_to_ack = pkt_id;
 156:./user/source/onenet.c ****     ctx->dup = dup;
 157:./user/source/onenet.c ****     ctx->qos = qos;
 158:./user/source/onenet.c ****     printf("dup: %d, qos: %d, id: %d\r\ntopic: %s\r\npayloadsize: %d  payload: %s\r\n",
 159:./user/source/onenet.c ****            dup, qos, pkt_id, topic, payloadsize, payload);
 160:./user/source/onenet.c **** 
 161:./user/source/onenet.c ****     /*fix me : add response ?*/
 162:./user/source/onenet.c **** 
 163:./user/source/onenet.c ****     //get cmdid
 164:./user/source/onenet.c ****     //$creq/topic_name/cmdid
 165:./user/source/onenet.c ****     memset(g_cmdid, STRLEN, 0);
 166:./user/source/onenet.c ****     if ('$' == topic[0] &&
 167:./user/source/onenet.c ****         'c' == topic[1] &&
 168:./user/source/onenet.c ****         'r' == topic[2] &&
 169:./user/source/onenet.c ****         'e' == topic[3] &&
 170:./user/source/onenet.c ****         'q' == topic[4] &&
 171:./user/source/onenet.c ****         '/' == topic[5])
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 5


 172:./user/source/onenet.c ****     {
 173:./user/source/onenet.c ****         int i = 6;
 174:./user/source/onenet.c ****         while (topic[i] != '/' && i < strlen(topic))
 175:./user/source/onenet.c ****         {
 176:./user/source/onenet.c ****             ++i;
 177:./user/source/onenet.c ****         }
 178:./user/source/onenet.c ****         if (i < strlen(topic))
 179:./user/source/onenet.c ****             memcpy(g_cmdid, topic + i + 1, strlen(topic + i + 1));
 180:./user/source/onenet.c ****     }
 181:./user/source/onenet.c ****     return 0;
 182:./user/source/onenet.c **** }
 183:./user/source/onenet.c **** 
 184:./user/source/onenet.c **** static int MqttSample_HandlePubAck(void *arg, uint16_t pkt_id)
 185:./user/source/onenet.c **** {
 186:./user/source/onenet.c ****     printf("Recv the publish ack, packet id is %d.\n", pkt_id);
 187:./user/source/onenet.c ****     return 0;
 188:./user/source/onenet.c **** }
 189:./user/source/onenet.c **** 
 190:./user/source/onenet.c **** static int MqttSample_HandlePubRec(void *arg, uint16_t pkt_id)
 191:./user/source/onenet.c **** {
 192:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 193:./user/source/onenet.c ****     ctx->pkt_to_ack = pkt_id;
 194:./user/source/onenet.c ****     printf("Recv the publish rec, packet id is %d.\n", pkt_id);
 195:./user/source/onenet.c ****     return 0;
 196:./user/source/onenet.c **** }
 197:./user/source/onenet.c **** 
 198:./user/source/onenet.c **** static int MqttSample_HandlePubRel(void *arg, uint16_t pkt_id)
 199:./user/source/onenet.c **** {
 200:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 201:./user/source/onenet.c ****     ctx->pkt_to_ack = pkt_id;
 202:./user/source/onenet.c ****     printf("Recv the publish rel, packet id is %d.\n", pkt_id);
 203:./user/source/onenet.c ****     return 0;
 204:./user/source/onenet.c **** }
 205:./user/source/onenet.c **** 
 206:./user/source/onenet.c **** static int MqttSample_HandlePubComp(void *arg, uint16_t pkt_id)
 207:./user/source/onenet.c **** {
 208:./user/source/onenet.c ****     printf("Recv the publish comp, packet id is %d.\n", pkt_id);
 209:./user/source/onenet.c ****     return 0;
 210:./user/source/onenet.c **** }
 211:./user/source/onenet.c **** 
 212:./user/source/onenet.c **** static int MqttSample_HandleSubAck(void *arg, uint16_t pkt_id, const char *codes, uint32_t count)
 213:./user/source/onenet.c **** {
 214:./user/source/onenet.c ****     uint32_t i;
 215:./user/source/onenet.c ****     printf("Recv the subscribe ack, packet id is %d, return code count is %d:.\n", pkt_id, count);
 216:./user/source/onenet.c ****     for (i = 0; i < count; ++i)
 217:./user/source/onenet.c ****     {
 218:./user/source/onenet.c ****         unsigned int code = ((unsigned char *)codes)[i];
 219:./user/source/onenet.c ****         printf("   code%d=%02x\n", i, code);
 220:./user/source/onenet.c ****     }
 221:./user/source/onenet.c **** 
 222:./user/source/onenet.c ****     return 0;
 223:./user/source/onenet.c **** }
 224:./user/source/onenet.c **** 
 225:./user/source/onenet.c **** static int MqttSample_HandleUnsubAck(void *arg, uint16_t pkt_id)
 226:./user/source/onenet.c **** {
  61              		.loc 1 226 0
  62              		.cfi_startproc
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 6


  63              		@ args = 0, pretend = 0, frame = 0
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              	.LVL3:
  66 0000 08B5     		push	{r3, lr}
  67              	.LCFI1:
  68              		.cfi_def_cfa_offset 8
  69              		.cfi_offset 3, -8
  70              		.cfi_offset 14, -4
 227:./user/source/onenet.c ****     printf("Recv the unsubscribe ack, packet id is %d.\n", pkt_id);
  71              		.loc 1 227 0
  72 0002 0248     		ldr	r0, .L7
  73              	.LVL4:
  74 0004 FFF7FEFF 		bl	printf
  75              	.LVL5:
 228:./user/source/onenet.c ****     return 0;
 229:./user/source/onenet.c **** }
  76              		.loc 1 229 0
  77 0008 0020     		movs	r0, #0
  78 000a 08BD     		pop	{r3, pc}
  79              	.L8:
  80              		.align	2
  81              	.L7:
  82 000c 18000000 		.word	.LC1
  83              		.cfi_endproc
  84              	.LFE130:
  86              		.section	.text.MqttSample_HandleSubAck,"ax",%progbits
  87              		.align	2
  88              		.thumb
  89              		.thumb_func
  91              	MqttSample_HandleSubAck:
  92              	.LFB129:
 213:./user/source/onenet.c ****     uint32_t i;
  93              		.loc 1 213 0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              	.LVL6:
  98 0000 70B5     		push	{r4, r5, r6, lr}
  99              	.LCFI2:
 100              		.cfi_def_cfa_offset 16
 101              		.cfi_offset 4, -16
 102              		.cfi_offset 5, -12
 103              		.cfi_offset 6, -8
 104              		.cfi_offset 14, -4
 105 0002 1646     		mov	r6, r2
 106 0004 1D46     		mov	r5, r3
 215:./user/source/onenet.c ****     for (i = 0; i < count; ++i)
 107              		.loc 1 215 0
 108 0006 1A46     		mov	r2, r3
 109              	.LVL7:
 110 0008 0748     		ldr	r0, .L13
 111              	.LVL8:
 112 000a FFF7FEFF 		bl	printf
 113              	.LVL9:
 216:./user/source/onenet.c ****     {
 114              		.loc 1 216 0
 115 000e 0024     		movs	r4, #0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 7


 116 0010 05E0     		b	.L10
 117              	.LVL10:
 118              	.L11:
 119              	.LBB2:
 219:./user/source/onenet.c ****     }
 120              		.loc 1 219 0 discriminator 3
 121 0012 325D     		ldrb	r2, [r6, r4]	@ zero_extendqisi2
 122              	.LVL11:
 123 0014 2146     		mov	r1, r4
 124 0016 0548     		ldr	r0, .L13+4
 125 0018 FFF7FEFF 		bl	printf
 126              	.LVL12:
 127              	.LBE2:
 216:./user/source/onenet.c ****     {
 128              		.loc 1 216 0 discriminator 3
 129 001c 0134     		adds	r4, r4, #1
 130              	.LVL13:
 131              	.L10:
 216:./user/source/onenet.c ****     {
 132              		.loc 1 216 0 is_stmt 0 discriminator 1
 133 001e AC42     		cmp	r4, r5
 134 0020 F7D3     		bcc	.L11
 223:./user/source/onenet.c **** 
 135              		.loc 1 223 0 is_stmt 1
 136 0022 0020     		movs	r0, #0
 137 0024 70BD     		pop	{r4, r5, r6, pc}
 138              	.LVL14:
 139              	.L14:
 140 0026 00BF     		.align	2
 141              	.L13:
 142 0028 44000000 		.word	.LC2
 143 002c 88000000 		.word	.LC3
 144              		.cfi_endproc
 145              	.LFE129:
 147              		.section	.text.MqttSample_HandlePubComp,"ax",%progbits
 148              		.align	2
 149              		.thumb
 150              		.thumb_func
 152              	MqttSample_HandlePubComp:
 153              	.LFB128:
 207:./user/source/onenet.c ****     printf("Recv the publish comp, packet id is %d.\n", pkt_id);
 154              		.loc 1 207 0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158              	.LVL15:
 159 0000 08B5     		push	{r3, lr}
 160              	.LCFI3:
 161              		.cfi_def_cfa_offset 8
 162              		.cfi_offset 3, -8
 163              		.cfi_offset 14, -4
 208:./user/source/onenet.c ****     return 0;
 164              		.loc 1 208 0
 165 0002 0248     		ldr	r0, .L17
 166              	.LVL16:
 167 0004 FFF7FEFF 		bl	printf
 168              	.LVL17:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 8


 210:./user/source/onenet.c **** 
 169              		.loc 1 210 0
 170 0008 0020     		movs	r0, #0
 171 000a 08BD     		pop	{r3, pc}
 172              	.L18:
 173              		.align	2
 174              	.L17:
 175 000c 98000000 		.word	.LC4
 176              		.cfi_endproc
 177              	.LFE128:
 179              		.section	.text.MqttSample_HandlePubRel,"ax",%progbits
 180              		.align	2
 181              		.thumb
 182              		.thumb_func
 184              	MqttSample_HandlePubRel:
 185              	.LFB127:
 199:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 186              		.loc 1 199 0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 0
 189              		@ frame_needed = 0, uses_anonymous_args = 0
 190              	.LVL18:
 191 0000 08B5     		push	{r3, lr}
 192              	.LCFI4:
 193              		.cfi_def_cfa_offset 8
 194              		.cfi_offset 3, -8
 195              		.cfi_offset 14, -4
 196              	.LVL19:
 201:./user/source/onenet.c ****     printf("Recv the publish rel, packet id is %d.\n", pkt_id);
 197              		.loc 1 201 0
 198 0002 A0F8B010 		strh	r1, [r0, #176]	@ movhi
 202:./user/source/onenet.c ****     return 0;
 199              		.loc 1 202 0
 200 0006 0248     		ldr	r0, .L21
 201              	.LVL20:
 202 0008 FFF7FEFF 		bl	printf
 203              	.LVL21:
 204:./user/source/onenet.c **** 
 204              		.loc 1 204 0
 205 000c 0020     		movs	r0, #0
 206 000e 08BD     		pop	{r3, pc}
 207              	.L22:
 208              		.align	2
 209              	.L21:
 210 0010 C4000000 		.word	.LC5
 211              		.cfi_endproc
 212              	.LFE127:
 214              		.section	.text.MqttSample_HandlePubRec,"ax",%progbits
 215              		.align	2
 216              		.thumb
 217              		.thumb_func
 219              	MqttSample_HandlePubRec:
 220              	.LFB126:
 191:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 221              		.loc 1 191 0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 9


 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              	.LVL22:
 226 0000 08B5     		push	{r3, lr}
 227              	.LCFI5:
 228              		.cfi_def_cfa_offset 8
 229              		.cfi_offset 3, -8
 230              		.cfi_offset 14, -4
 231              	.LVL23:
 193:./user/source/onenet.c ****     printf("Recv the publish rec, packet id is %d.\n", pkt_id);
 232              		.loc 1 193 0
 233 0002 A0F8B010 		strh	r1, [r0, #176]	@ movhi
 194:./user/source/onenet.c ****     return 0;
 234              		.loc 1 194 0
 235 0006 0248     		ldr	r0, .L25
 236              	.LVL24:
 237 0008 FFF7FEFF 		bl	printf
 238              	.LVL25:
 196:./user/source/onenet.c **** 
 239              		.loc 1 196 0
 240 000c 0020     		movs	r0, #0
 241 000e 08BD     		pop	{r3, pc}
 242              	.L26:
 243              		.align	2
 244              	.L25:
 245 0010 EC000000 		.word	.LC6
 246              		.cfi_endproc
 247              	.LFE126:
 249              		.section	.text.MqttSample_HandlePubAck,"ax",%progbits
 250              		.align	2
 251              		.thumb
 252              		.thumb_func
 254              	MqttSample_HandlePubAck:
 255              	.LFB125:
 185:./user/source/onenet.c ****     printf("Recv the publish ack, packet id is %d.\n", pkt_id);
 256              		.loc 1 185 0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              	.LVL26:
 261 0000 08B5     		push	{r3, lr}
 262              	.LCFI6:
 263              		.cfi_def_cfa_offset 8
 264              		.cfi_offset 3, -8
 265              		.cfi_offset 14, -4
 186:./user/source/onenet.c ****     return 0;
 266              		.loc 1 186 0
 267 0002 0248     		ldr	r0, .L29
 268              	.LVL27:
 269 0004 FFF7FEFF 		bl	printf
 270              	.LVL28:
 188:./user/source/onenet.c **** 
 271              		.loc 1 188 0
 272 0008 0020     		movs	r0, #0
 273 000a 08BD     		pop	{r3, pc}
 274              	.L30:
 275              		.align	2
 276              	.L29:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 10


 277 000c 14010000 		.word	.LC7
 278              		.cfi_endproc
 279              	.LFE125:
 281              		.section	.text.MqttSample_HandleConnAck,"ax",%progbits
 282              		.align	2
 283              		.thumb
 284              		.thumb_func
 286              	MqttSample_HandleConnAck:
 287              	.LFB122:
 138:./user/source/onenet.c ****     printf("Success to connect to the server, flags(%0x), code(%d).\n",
 288              		.loc 1 138 0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              	.LVL29:
 293 0000 08B5     		push	{r3, lr}
 294              	.LCFI7:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 3, -8
 297              		.cfi_offset 14, -4
 139:./user/source/onenet.c ****            flags, ret_code);
 298              		.loc 1 139 0
 299 0002 0248     		ldr	r0, .L33
 300              	.LVL30:
 301 0004 FFF7FEFF 		bl	printf
 302              	.LVL31:
 142:./user/source/onenet.c **** 
 303              		.loc 1 142 0
 304 0008 0020     		movs	r0, #0
 305 000a 08BD     		pop	{r3, pc}
 306              	.L34:
 307              		.align	2
 308              	.L33:
 309 000c 3C010000 		.word	.LC8
 310              		.cfi_endproc
 311              	.LFE122:
 313              		.section	.text.MqttSample_HandlePublish,"ax",%progbits
 314              		.align	2
 315              		.thumb
 316              		.thumb_func
 318              	MqttSample_HandlePublish:
 319              	.LFB124:
 153:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 320              		.loc 1 153 0
 321              		.cfi_startproc
 322              		@ args = 12, pretend = 0, frame = 0
 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324              	.LVL32:
 325 0000 70B5     		push	{r4, r5, r6, lr}
 326              	.LCFI8:
 327              		.cfi_def_cfa_offset 16
 328              		.cfi_offset 4, -16
 329              		.cfi_offset 5, -12
 330              		.cfi_offset 6, -8
 331              		.cfi_offset 14, -4
 332 0002 84B0     		sub	sp, sp, #16
 333              	.LCFI9:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 11


 334              		.cfi_def_cfa_offset 32
 335 0004 0D46     		mov	r5, r1
 336 0006 1446     		mov	r4, r2
 337 0008 0999     		ldr	r1, [sp, #36]
 338              	.LVL33:
 339 000a 9DF82820 		ldrb	r2, [sp, #40]	@ zero_extendqisi2
 340              	.LVL34:
 155:./user/source/onenet.c ****     ctx->dup = dup;
 341              		.loc 1 155 0
 342 000e A0F8B050 		strh	r5, [r0, #176]	@ movhi
 156:./user/source/onenet.c ****     ctx->qos = qos;
 343              		.loc 1 156 0
 344 0012 C0F8A410 		str	r1, [r0, #164]
 157:./user/source/onenet.c ****     printf("dup: %d, qos: %d, id: %d\r\ntopic: %s\r\npayloadsize: %d  payload: %s\r\n",
 345              		.loc 1 157 0
 346 0016 80F8A820 		strb	r2, [r0, #168]
 158:./user/source/onenet.c ****            dup, qos, pkt_id, topic, payloadsize, payload);
 347              		.loc 1 158 0
 348 001a 0293     		str	r3, [sp, #8]
 349 001c 089B     		ldr	r3, [sp, #32]
 350              	.LVL35:
 351 001e 0193     		str	r3, [sp, #4]
 352 0020 0094     		str	r4, [sp]
 353 0022 2B46     		mov	r3, r5
 354 0024 1948     		ldr	r0, .L42
 355              	.LVL36:
 356 0026 FFF7FEFF 		bl	printf
 357              	.LVL37:
 166:./user/source/onenet.c ****         'c' == topic[1] &&
 358              		.loc 1 166 0
 359 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 360 002c 242B     		cmp	r3, #36
 361 002e 2AD1     		bne	.L36
 167:./user/source/onenet.c ****         'r' == topic[2] &&
 362              		.loc 1 167 0 discriminator 1
 363 0030 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 166:./user/source/onenet.c ****         'c' == topic[1] &&
 364              		.loc 1 166 0 discriminator 1
 365 0032 632B     		cmp	r3, #99
 366 0034 27D1     		bne	.L36
 168:./user/source/onenet.c ****         'e' == topic[3] &&
 367              		.loc 1 168 0
 368 0036 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 167:./user/source/onenet.c ****         'r' == topic[2] &&
 369              		.loc 1 167 0
 370 0038 722B     		cmp	r3, #114
 371 003a 24D1     		bne	.L36
 169:./user/source/onenet.c ****         'q' == topic[4] &&
 372              		.loc 1 169 0
 373 003c E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 168:./user/source/onenet.c ****         'e' == topic[3] &&
 374              		.loc 1 168 0
 375 003e 652B     		cmp	r3, #101
 376 0040 21D1     		bne	.L36
 170:./user/source/onenet.c ****         '/' == topic[5])
 377              		.loc 1 170 0
 378 0042 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 12


 169:./user/source/onenet.c ****         'q' == topic[4] &&
 379              		.loc 1 169 0
 380 0044 712B     		cmp	r3, #113
 381 0046 1ED1     		bne	.L36
 171:./user/source/onenet.c ****     {
 382              		.loc 1 171 0
 383 0048 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 170:./user/source/onenet.c ****         '/' == topic[5])
 384              		.loc 1 170 0
 385 004a 2F2B     		cmp	r3, #47
 386 004c 1BD1     		bne	.L36
 387 004e 01E0     		b	.L40
 388              	.LVL38:
 389              	.L39:
 390              	.LBB3:
 176:./user/source/onenet.c ****         }
 391              		.loc 1 176 0
 392 0050 0135     		adds	r5, r5, #1
 393              	.LVL39:
 394 0052 00E0     		b	.L37
 395              	.LVL40:
 396              	.L40:
 397              	.LBE3:
 398 0054 0625     		movs	r5, #6
 399              	.L37:
 400              	.LVL41:
 401              	.LBB4:
 174:./user/source/onenet.c ****         {
 402              		.loc 1 174 0
 403 0056 2E46     		mov	r6, r5
 404 0058 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 405 005a 2F2B     		cmp	r3, #47
 406 005c 04D0     		beq	.L38
 174:./user/source/onenet.c ****         {
 407              		.loc 1 174 0 is_stmt 0 discriminator 1
 408 005e 2046     		mov	r0, r4
 409 0060 FFF7FEFF 		bl	strlen
 410              	.LVL42:
 411 0064 8542     		cmp	r5, r0
 412 0066 F3D3     		bcc	.L39
 413              	.L38:
 178:./user/source/onenet.c ****             memcpy(g_cmdid, topic + i + 1, strlen(topic + i + 1));
 414              		.loc 1 178 0 is_stmt 1
 415 0068 2046     		mov	r0, r4
 416 006a FFF7FEFF 		bl	strlen
 417              	.LVL43:
 418 006e 8642     		cmp	r6, r0
 419 0070 09D2     		bcs	.L36
 179:./user/source/onenet.c ****     }
 420              		.loc 1 179 0
 421 0072 0136     		adds	r6, r6, #1
 422 0074 3444     		add	r4, r4, r6
 423              	.LVL44:
 424 0076 2046     		mov	r0, r4
 425 0078 FFF7FEFF 		bl	strlen
 426              	.LVL45:
 427 007c 0246     		mov	r2, r0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 13


 428 007e 2146     		mov	r1, r4
 429 0080 0348     		ldr	r0, .L42+4
 430 0082 FFF7FEFF 		bl	memcpy
 431              	.LVL46:
 432              	.L36:
 433              	.LBE4:
 182:./user/source/onenet.c **** 
 434              		.loc 1 182 0
 435 0086 0020     		movs	r0, #0
 436 0088 04B0     		add	sp, sp, #16
 437              	.LCFI10:
 438              		.cfi_def_cfa_offset 16
 439              		@ sp needed
 440 008a 70BD     		pop	{r4, r5, r6, pc}
 441              	.LVL47:
 442              	.L43:
 443              		.align	2
 444              	.L42:
 445 008c 78010000 		.word	.LC9
 446 0090 00000000 		.word	g_cmdid
 447              		.cfi_endproc
 448              	.LFE124:
 450              		.section	.text.MqttSample_Publish,"ax",%progbits
 451              		.align	2
 452              		.thumb
 453              		.thumb_func
 455              	MqttSample_Publish:
 456              	.LFB136:
 230:./user/source/onenet.c **** 
 231:./user/source/onenet.c **** static int MqttSample_HandleCmd(void *arg, uint16_t pkt_id, const char *cmdid,
 232:./user/source/onenet.c ****                                 int64_t timestamp, const char *desc, const char *cmdarg,
 233:./user/source/onenet.c ****                                 uint32_t cmdarg_len, int dup, enum MqttQosLevel qos)
 234:./user/source/onenet.c **** {
 235:./user/source/onenet.c ****     uint32_t i;
 236:./user/source/onenet.c ****     char cmd_str[100] = {0};
 237:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 238:./user/source/onenet.c ****     ctx->pkt_to_ack = pkt_id;
 239:./user/source/onenet.c ****     strcpy(ctx->cmdid, cmdid);
 240:./user/source/onenet.c ****     printf("Recv the command, packet id is %d, cmduuid is %s, qos=%d, dup=%d.\n",
 241:./user/source/onenet.c ****            pkt_id, cmdid, qos, dup);
 242:./user/source/onenet.c **** 
 243:./user/source/onenet.c ****     if (0 != timestamp)
 244:./user/source/onenet.c ****     {
 245:./user/source/onenet.c ****         time_t seconds = timestamp / 1000;
 246:./user/source/onenet.c ****         struct tm *st = localtime(&seconds);
 247:./user/source/onenet.c **** 
 248:./user/source/onenet.c ****         printf("    The timestampe is %04d-%02d-%02dT%02d:%02d:%02d.%03d.\n",
 249:./user/source/onenet.c ****                st->tm_year + 1900, st->tm_mon + 1, st->tm_mday,
 250:./user/source/onenet.c ****                st->tm_hour, st->tm_min, st->tm_sec, (int)(timestamp % 1000));
 251:./user/source/onenet.c ****     }
 252:./user/source/onenet.c ****     else
 253:./user/source/onenet.c ****     {
 254:./user/source/onenet.c ****         printf("    There is no timestamp.\n");
 255:./user/source/onenet.c ****     }
 256:./user/source/onenet.c **** 
 257:./user/source/onenet.c ****     if (NULL != desc)
 258:./user/source/onenet.c ****     {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 14


 259:./user/source/onenet.c ****         printf("    The description is: %s.\n", desc);
 260:./user/source/onenet.c ****     }
 261:./user/source/onenet.c ****     else
 262:./user/source/onenet.c ****     {
 263:./user/source/onenet.c ****         printf("    There is no description.\n");
 264:./user/source/onenet.c ****     }
 265:./user/source/onenet.c **** 
 266:./user/source/onenet.c ****     printf("    The length of the command argument is %d, the argument is:", cmdarg_len);
 267:./user/source/onenet.c **** 
 268:./user/source/onenet.c ****     for (i = 0; i < cmdarg_len; ++i)
 269:./user/source/onenet.c ****     {
 270:./user/source/onenet.c ****         const char c = cmdarg[i];
 271:./user/source/onenet.c ****         if (0 == i % 16)
 272:./user/source/onenet.c ****         {
 273:./user/source/onenet.c ****             printf("\n        ");
 274:./user/source/onenet.c ****         }
 275:./user/source/onenet.c ****         printf("%02X'%c' ", c, c);
 276:./user/source/onenet.c ****     }
 277:./user/source/onenet.c ****     printf("\n");
 278:./user/source/onenet.c ****     memcpy(cmd_str, cmdarg, cmdarg_len);
 279:./user/source/onenet.c ****     printf("cmd: %s\r\n", cmd_str);
 280:./user/source/onenet.c **** 
 281:./user/source/onenet.c ****     /* add your execution code here */
 282:./user/source/onenet.c ****     /* æ‰§è¡Œç¤ºä¾‹ -- ç‚¹äº®ledç¯ */
 283:./user/source/onenet.c ****     //LED_7_ON;
 284:./user/source/onenet.c **** 
 285:./user/source/onenet.c ****     return 0;
 286:./user/source/onenet.c **** }
 287:./user/source/onenet.c **** 
 288:./user/source/onenet.c **** static int MqttSample_Subscribe(struct MqttSampleContext *ctx, char **topic, int num)
 289:./user/source/onenet.c **** {
 290:./user/source/onenet.c ****     int err;
 291:./user/source/onenet.c ****     err = Mqtt_PackSubscribePkt(ctx->mqttbuf, 2, MQTT_QOS_LEVEL0, topic, num);
 292:./user/source/onenet.c ****     if (err != MQTTERR_NOERROR)
 293:./user/source/onenet.c ****     {
 294:./user/source/onenet.c ****         printf("Critical bug: failed to pack the subscribe packet.\n");
 295:./user/source/onenet.c ****         return -1;
 296:./user/source/onenet.c ****     }
 297:./user/source/onenet.c ****     return 0;
 298:./user/source/onenet.c **** }
 299:./user/source/onenet.c **** 
 300:./user/source/onenet.c **** static int MqttSample_Unsubscribe(struct MqttSampleContext *ctx, char **topics, int num)
 301:./user/source/onenet.c **** {
 302:./user/source/onenet.c ****     int err;
 303:./user/source/onenet.c ****     err = Mqtt_PackUnsubscribePkt(ctx->mqttbuf, 3, topics, num);
 304:./user/source/onenet.c ****     if (err != MQTTERR_NOERROR)
 305:./user/source/onenet.c ****     {
 306:./user/source/onenet.c ****         printf("Critical bug: failed to pack the unsubscribe packet.\n");
 307:./user/source/onenet.c ****         return -1;
 308:./user/source/onenet.c ****     }
 309:./user/source/onenet.c **** 
 310:./user/source/onenet.c ****     return 0;
 311:./user/source/onenet.c **** }
 312:./user/source/onenet.c **** 
 313:./user/source/onenet.c **** //int MqttSample_Savedata11(struct MqttSampleContext *ctx, int lon, int lat)
 314:./user/source/onenet.c **** int MqttSample_Savedata11(struct MqttSampleContext *ctx, float lon, float lat)
 315:./user/source/onenet.c **** {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 15


 316:./user/source/onenet.c ****     int err;
 317:./user/source/onenet.c ****     struct MqttExtent *ext;
 318:./user/source/onenet.c ****     uint16_t pkt_id = 1;
 319:./user/source/onenet.c ****     uint16_t lon_d, lon_f, lat_d, lat_f;
 320:./user/source/onenet.c ****     lon_d = (uint16_t)lon * 10000;
 321:./user/source/onenet.c ****     lon_f = (lon * 10000) - lon_d;
 322:./user/source/onenet.c ****     lat_d = (uint16_t)lat * 10000;
 323:./user/source/onenet.c ****     lat_f = (lat * 10000) - lat_d;
 324:./user/source/onenet.c **** 
 325:./user/source/onenet.c ****     char json[] = "{\"datastreams\":[{\"id\":\"loc\",\"datapoints\":[{\"value\":{\"lon\":%d.%4d,\"l
 326:./user/source/onenet.c ****     char t_json[200];
 327:./user/source/onenet.c ****     int payload_len;
 328:./user/source/onenet.c ****     char *t_payload;
 329:./user/source/onenet.c ****     unsigned short json_len;
 330:./user/source/onenet.c **** 
 331:./user/source/onenet.c ****     //sprintf(t_json, json, lon, lat);
 332:./user/source/onenet.c ****     sprintf(t_json, json, (uint16_t)lon, lon_f, (uint16_t)lat, lat_f);
 333:./user/source/onenet.c ****     payload_len = 1 + 2 + strlen(t_json) / sizeof(char);
 334:./user/source/onenet.c ****     json_len = strlen(t_json) / sizeof(char);
 335:./user/source/onenet.c **** 
 336:./user/source/onenet.c ****     t_payload = (char *)malloc(payload_len);
 337:./user/source/onenet.c ****     if (t_payload == NULL)
 338:./user/source/onenet.c ****     {
 339:./user/source/onenet.c ****         printf("<%s>: t_payload malloc error\r\n", __FUNCTION__);
 340:./user/source/onenet.c ****         return 0;
 341:./user/source/onenet.c ****     }
 342:./user/source/onenet.c **** 
 343:./user/source/onenet.c ****     //type
 344:./user/source/onenet.c ****     t_payload[0] = '\x01';
 345:./user/source/onenet.c **** 
 346:./user/source/onenet.c ****     //length
 347:./user/source/onenet.c ****     t_payload[1] = (json_len & 0xFF00) >> 8;
 348:./user/source/onenet.c ****     t_payload[2] = json_len & 0xFF;
 349:./user/source/onenet.c **** 
 350:./user/source/onenet.c ****     //json
 351:./user/source/onenet.c ****     memcpy(t_payload + 3, t_json, json_len);
 352:./user/source/onenet.c **** 
 353:./user/source/onenet.c ****     if (ctx->mqttbuf->first_ext)
 354:./user/source/onenet.c ****     {
 355:./user/source/onenet.c ****         return MQTTERR_INVALID_PARAMETER;
 356:./user/source/onenet.c ****     }
 357:./user/source/onenet.c **** 
 358:./user/source/onenet.c ****     printf("Topic: %s\r\nPakect ID: %d\r\nQoS: %d\r\nPayload: %s\r\n",
 359:./user/source/onenet.c ****            "$dp", pkt_id, MQTT_QOS_LEVEL1, t_json);
 360:./user/source/onenet.c ****     err = Mqtt_PackPublishPkt(ctx->mqttbuf, pkt_id, "$dp", t_payload, payload_len,
 361:./user/source/onenet.c ****                               MQTT_QOS_LEVEL1, 0, 1);
 362:./user/source/onenet.c **** 
 363:./user/source/onenet.c ****     free(t_payload);
 364:./user/source/onenet.c **** 
 365:./user/source/onenet.c ****     if (err != MQTTERR_NOERROR)
 366:./user/source/onenet.c ****     {
 367:./user/source/onenet.c ****         return err;
 368:./user/source/onenet.c ****     }
 369:./user/source/onenet.c **** 
 370:./user/source/onenet.c ****     return 0;
 371:./user/source/onenet.c **** }
 372:./user/source/onenet.c **** 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 16


 373:./user/source/onenet.c **** static int MqttSample_Savedata(struct MqttSampleContext *ctx, float lon, float lat)
 374:./user/source/onenet.c **** {
 375:./user/source/onenet.c ****     char opt;
 376:./user/source/onenet.c ****     int Qos = 1;
 377:./user/source/onenet.c ****     int type = 1;
 378:./user/source/onenet.c ****     int i = 0;
 379:./user/source/onenet.c ****     /*-q 0/1   ----> Qos0/Qos1
 380:./user/source/onenet.c ****       -t 1/7   ----> json/float datapoint
 381:./user/source/onenet.c ****     */
 382:./user/source/onenet.c **** 
 383:./user/source/onenet.c ****     printf("Qos: %d    Type: %d\r\n", Qos, type);
 384:./user/source/onenet.c ****     MqttSample_Savedata11(ctx, lon, lat); // qos=1 type=1
 385:./user/source/onenet.c **** }
 386:./user/source/onenet.c **** 
 387:./user/source/onenet.c **** static int MqttSample_Publish(struct MqttSampleContext *ctx, int latitude, int longitude)
 388:./user/source/onenet.c **** {
 457              		.loc 1 388 0
 458              		.cfi_startproc
 459              		@ args = 0, pretend = 0, frame = 104
 460              		@ frame_needed = 0, uses_anonymous_args = 0
 461              	.LVL48:
 462 0000 70B5     		push	{r4, r5, r6, lr}
 463              	.LCFI11:
 464              		.cfi_def_cfa_offset 16
 465              		.cfi_offset 4, -16
 466              		.cfi_offset 5, -12
 467              		.cfi_offset 6, -8
 468              		.cfi_offset 14, -4
 469 0002 9EB0     		sub	sp, sp, #120
 470              	.LCFI12:
 471              		.cfi_def_cfa_offset 136
 472 0004 0446     		mov	r4, r0
 473 0006 0D46     		mov	r5, r1
 474 0008 1646     		mov	r6, r2
 475              	.LVL49:
 389:./user/source/onenet.c ****     int err;
 390:./user/source/onenet.c ****     int topics_len = 0;
 391:./user/source/onenet.c ****     struct MqttExtent *ext;
 392:./user/source/onenet.c ****     int i = 0;
 393:./user/source/onenet.c **** 
 394:./user/source/onenet.c ****     char *topic = "gps";
 395:./user/source/onenet.c ****     char *payload1 = "%d, %d";
 396:./user/source/onenet.c ****     char payload[100] = {0};
 476              		.loc 1 396 0
 477 000a 6422     		movs	r2, #100
 478              	.LVL50:
 479 000c 0021     		movs	r1, #0
 480              	.LVL51:
 481 000e 05A8     		add	r0, sp, #20
 482              	.LVL52:
 483 0010 FFF7FEFF 		bl	memset
 484              	.LVL53:
 397:./user/source/onenet.c ****     int pkg_id = 1;
 398:./user/source/onenet.c **** 
 399:./user/source/onenet.c ****     sprintf(payload, payload1, latitude, longitude);
 485              		.loc 1 399 0
 486 0014 3346     		mov	r3, r6
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 17


 487 0016 2A46     		mov	r2, r5
 488 0018 1049     		ldr	r1, .L49
 489 001a 05A8     		add	r0, sp, #20
 490 001c FFF7FEFF 		bl	sprintf
 491              	.LVL54:
 400:./user/source/onenet.c ****     printf("<%s>: public %s : %s\r\n", __FUNCTION__, topic, payload);
 492              		.loc 1 400 0
 493 0020 05AB     		add	r3, sp, #20
 494 0022 0F4A     		ldr	r2, .L49+4
 495 0024 0F49     		ldr	r1, .L49+8
 496 0026 1048     		ldr	r0, .L49+12
 497 0028 FFF7FEFF 		bl	printf
 498              	.LVL55:
 401:./user/source/onenet.c ****     if (ctx->mqttbuf->first_ext)
 499              		.loc 1 401 0
 500 002c 236F     		ldr	r3, [r4, #112]
 501 002e 83B9     		cbnz	r3, .L46
 402:./user/source/onenet.c ****     {
 403:./user/source/onenet.c ****         return MQTTERR_INVALID_PARAMETER;
 404:./user/source/onenet.c ****     }
 405:./user/source/onenet.c ****     err = Mqtt_PackPublishPkt(ctx->mqttbuf, pkg_id, topic, payload, strlen(payload), MQTT_QOS_LEVEL
 502              		.loc 1 405 0
 503 0030 7034     		adds	r4, r4, #112
 504              	.LVL56:
 505 0032 05A8     		add	r0, sp, #20
 506 0034 FFF7FEFF 		bl	strlen
 507              	.LVL57:
 508 0038 0121     		movs	r1, #1
 509 003a 0391     		str	r1, [sp, #12]
 510 003c 0023     		movs	r3, #0
 511 003e 0293     		str	r3, [sp, #8]
 512 0040 0191     		str	r1, [sp, #4]
 513 0042 0090     		str	r0, [sp]
 514 0044 05AB     		add	r3, sp, #20
 515 0046 064A     		ldr	r2, .L49+4
 516 0048 2046     		mov	r0, r4
 517 004a FFF7FEFF 		bl	Mqtt_PackPublishPkt
 518              	.LVL58:
 406:./user/source/onenet.c **** 
 407:./user/source/onenet.c ****     if (err != MQTTERR_NOERROR)
 519              		.loc 1 407 0
 520 004e 18B9     		cbnz	r0, .L47
 521 0050 02E0     		b	.L45
 522              	.LVL59:
 523              	.L46:
 403:./user/source/onenet.c ****     }
 524              		.loc 1 403 0
 525 0052 6FF00600 		mvn	r0, #6
 526 0056 FFE7     		b	.L45
 527              	.LVL60:
 528              	.L47:
 529              	.L45:
 408:./user/source/onenet.c ****     {
 409:./user/source/onenet.c ****         return err;
 410:./user/source/onenet.c ****     }
 411:./user/source/onenet.c **** 
 412:./user/source/onenet.c ****     return 0;
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 18


 413:./user/source/onenet.c **** }
 530              		.loc 1 413 0
 531 0058 1EB0     		add	sp, sp, #120
 532              	.LCFI13:
 533              		.cfi_def_cfa_offset 16
 534              		@ sp needed
 535 005a 70BD     		pop	{r4, r5, r6, pc}
 536              	.LVL61:
 537              	.L50:
 538              		.align	2
 539              	.L49:
 540 005c BC010000 		.word	.LC10
 541 0060 C4010000 		.word	.LC11
 542 0064 00000000 		.word	.LANCHOR0
 543 0068 C8010000 		.word	.LC12
 544              		.cfi_endproc
 545              	.LFE136:
 547              		.section	.text.MqttSample_Init,"ax",%progbits
 548              		.align	2
 549              		.thumb
 550              		.thumb_func
 552              	MqttSample_Init:
 553              	.LFB138:
 414:./user/source/onenet.c **** 
 415:./user/source/onenet.c **** /* å›žå¤å‘½ä»¤ */
 416:./user/source/onenet.c **** int MqttSample_RespCmd(struct MqttSampleContext *ctx, char *resp)
 417:./user/source/onenet.c **** {
 418:./user/source/onenet.c ****     int err;
 419:./user/source/onenet.c ****     int Qos = 0;
 420:./user/source/onenet.c ****     int i = 0;
 421:./user/source/onenet.c **** 
 422:./user/source/onenet.c ****     printf("QoS: %d\r\nCmdId: %s\r\n", Qos, ctx->cmdid);
 423:./user/source/onenet.c **** 
 424:./user/source/onenet.c ****     if (0 == Qos)
 425:./user/source/onenet.c ****     {
 426:./user/source/onenet.c ****         err = Mqtt_PackCmdRetPkt(ctx->mqttbuf, 1, ctx->cmdid,
 427:./user/source/onenet.c ****                                  resp, 11, MQTT_QOS_LEVEL0, 1);
 428:./user/source/onenet.c ****     }
 429:./user/source/onenet.c ****     else if (1 == Qos)
 430:./user/source/onenet.c ****     {
 431:./user/source/onenet.c ****         err = Mqtt_PackCmdRetPkt(ctx->mqttbuf, 1, ctx->cmdid,
 432:./user/source/onenet.c ****                                  resp, 11, MQTT_QOS_LEVEL1, 1);
 433:./user/source/onenet.c ****     }
 434:./user/source/onenet.c **** 
 435:./user/source/onenet.c ****     if (MQTTERR_NOERROR != err)
 436:./user/source/onenet.c ****     {
 437:./user/source/onenet.c ****         printf("Critical bug: failed to pack the cmd ret packet.\n");
 438:./user/source/onenet.c ****         return -1;
 439:./user/source/onenet.c ****     }
 440:./user/source/onenet.c **** 
 441:./user/source/onenet.c ****     return 0;
 442:./user/source/onenet.c **** }
 443:./user/source/onenet.c **** 
 444:./user/source/onenet.c **** static int MqttSample_Init(struct MqttSampleContext *ctx)
 445:./user/source/onenet.c **** {
 554              		.loc 1 445 0
 555              		.cfi_startproc
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 19


 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558              	.LVL62:
 559 0000 10B5     		push	{r4, lr}
 560              	.LCFI14:
 561              		.cfi_def_cfa_offset 8
 562              		.cfi_offset 4, -8
 563              		.cfi_offset 14, -4
 564 0002 0446     		mov	r4, r0
 446:./user/source/onenet.c ****     //struct epoll_event event;
 447:./user/source/onenet.c ****     int err;
 448:./user/source/onenet.c **** 
 449:./user/source/onenet.c ****     ctx->host = MQTT_HOST;
 565              		.loc 1 449 0
 566 0004 214B     		ldr	r3, .L55
 567 0006 C0F89030 		str	r3, [r0, #144]
 450:./user/source/onenet.c ****     ctx->port = MQTT_PORT;
 568              		.loc 1 450 0
 569 000a 41F27273 		movw	r3, #6002
 570 000e A0F89430 		strh	r3, [r0, #148]	@ movhi
 451:./user/source/onenet.c ****     ctx->sendedbytes = -1;
 571              		.loc 1 451 0
 572 0012 4FF0FF33 		mov	r3, #-1
 573 0016 0360     		str	r3, [r0]
 452:./user/source/onenet.c **** 
 453:./user/source/onenet.c ****     ctx->devid = NULL;
 574              		.loc 1 453 0
 575 0018 0023     		movs	r3, #0
 576 001a C0F89C30 		str	r3, [r0, #156]
 454:./user/source/onenet.c ****     ctx->cmdid[0] = '\0';
 577              		.loc 1 454 0
 578 001e 80F8B230 		strb	r3, [r0, #178]
 455:./user/source/onenet.c ****     err = Mqtt_InitContext(ctx->mqttctx, 1000);
 579              		.loc 1 455 0
 580 0022 4FF47A71 		mov	r1, #1000
 581 0026 0430     		adds	r0, r0, #4
 582              	.LVL63:
 583 0028 FFF7FEFF 		bl	Mqtt_InitContext
 584              	.LVL64:
 456:./user/source/onenet.c ****     if (MQTTERR_NOERROR != err)
 585              		.loc 1 456 0
 586 002c 30B1     		cbz	r0, .L52
 587 002e 0146     		mov	r1, r0
 588              	.LBB5:
 457:./user/source/onenet.c ****     {
 458:./user/source/onenet.c ****         printf("Failed to init MQTT context errcode is %d", err);
 589              		.loc 1 458 0
 590 0030 1748     		ldr	r0, .L55+4
 591              	.LVL65:
 592 0032 FFF7FEFF 		bl	printf
 593              	.LVL66:
 459:./user/source/onenet.c ****         return -1;
 594              		.loc 1 459 0
 595 0036 4FF0FF30 		mov	r0, #-1
 596 003a 10BD     		pop	{r4, pc}
 597              	.LVL67:
 598              	.L52:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 20


 599              	.LBE5:
 460:./user/source/onenet.c ****     }
 461:./user/source/onenet.c **** 
 462:./user/source/onenet.c ****     ctx->mqttctx->read_func = MqttSample_RecvPkt;
 600              		.loc 1 462 0
 601 003c 154B     		ldr	r3, .L55+8
 602 003e 6361     		str	r3, [r4, #20]
 463:./user/source/onenet.c ****     ctx->mqttctx->writev_func = MqttSample_SendPkt;
 603              		.loc 1 463 0
 604 0040 154B     		ldr	r3, .L55+12
 605 0042 E361     		str	r3, [r4, #28]
 464:./user/source/onenet.c **** 
 465:./user/source/onenet.c ****     ctx->mqttctx->handle_conn_ack = MqttSample_HandleConnAck;
 606              		.loc 1 465 0
 607 0044 154B     		ldr	r3, .L55+16
 608 0046 E362     		str	r3, [r4, #44]
 466:./user/source/onenet.c ****     ctx->mqttctx->handle_conn_ack_arg = ctx;
 609              		.loc 1 466 0
 610 0048 A462     		str	r4, [r4, #40]
 467:./user/source/onenet.c ****     ctx->mqttctx->handle_ping_resp = MqttSample_HandlePingResp;
 611              		.loc 1 467 0
 612 004a 154B     		ldr	r3, .L55+20
 613 004c 6362     		str	r3, [r4, #36]
 468:./user/source/onenet.c ****     ctx->mqttctx->handle_ping_resp_arg = ctx;
 614              		.loc 1 468 0
 615 004e 2462     		str	r4, [r4, #32]
 469:./user/source/onenet.c ****     ctx->mqttctx->handle_publish = MqttSample_HandlePublish;
 616              		.loc 1 469 0
 617 0050 144B     		ldr	r3, .L55+24
 618 0052 6363     		str	r3, [r4, #52]
 470:./user/source/onenet.c ****     ctx->mqttctx->handle_publish_arg = ctx;
 619              		.loc 1 470 0
 620 0054 2463     		str	r4, [r4, #48]
 471:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_ack = MqttSample_HandlePubAck;
 621              		.loc 1 471 0
 622 0056 144B     		ldr	r3, .L55+28
 623 0058 E363     		str	r3, [r4, #60]
 472:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_ack_arg = ctx;
 624              		.loc 1 472 0
 625 005a A463     		str	r4, [r4, #56]
 473:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_rec = MqttSample_HandlePubRec;
 626              		.loc 1 473 0
 627 005c 134B     		ldr	r3, .L55+32
 628 005e 6364     		str	r3, [r4, #68]
 474:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_rec_arg = ctx;
 629              		.loc 1 474 0
 630 0060 2464     		str	r4, [r4, #64]
 475:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_rel = MqttSample_HandlePubRel;
 631              		.loc 1 475 0
 632 0062 134B     		ldr	r3, .L55+36
 633 0064 E364     		str	r3, [r4, #76]
 476:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_rel_arg = ctx;
 634              		.loc 1 476 0
 635 0066 A464     		str	r4, [r4, #72]
 477:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_comp = MqttSample_HandlePubComp;
 636              		.loc 1 477 0
 637 0068 124B     		ldr	r3, .L55+40
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 21


 638 006a 6365     		str	r3, [r4, #84]
 478:./user/source/onenet.c ****     ctx->mqttctx->handle_pub_comp_arg = ctx;
 639              		.loc 1 478 0
 640 006c 2465     		str	r4, [r4, #80]
 479:./user/source/onenet.c ****     ctx->mqttctx->handle_sub_ack = MqttSample_HandleSubAck;
 641              		.loc 1 479 0
 642 006e 124B     		ldr	r3, .L55+44
 643 0070 E365     		str	r3, [r4, #92]
 480:./user/source/onenet.c ****     ctx->mqttctx->handle_sub_ack_arg = ctx;
 644              		.loc 1 480 0
 645 0072 A465     		str	r4, [r4, #88]
 481:./user/source/onenet.c ****     ctx->mqttctx->handle_unsub_ack = MqttSample_HandleUnsubAck;
 646              		.loc 1 481 0
 647 0074 114B     		ldr	r3, .L55+48
 648 0076 6366     		str	r3, [r4, #100]
 482:./user/source/onenet.c ****     ctx->mqttctx->handle_unsub_ack_arg = ctx;
 649              		.loc 1 482 0
 650 0078 2466     		str	r4, [r4, #96]
 483:./user/source/onenet.c ****     ctx->mqttctx->handle_cmd = MqttSample_HandleCmd;
 651              		.loc 1 483 0
 652 007a 114B     		ldr	r3, .L55+52
 653 007c E366     		str	r3, [r4, #108]
 484:./user/source/onenet.c ****     ctx->mqttctx->handle_cmd_arg = ctx;
 654              		.loc 1 484 0
 655 007e A466     		str	r4, [r4, #104]
 485:./user/source/onenet.c **** 
 486:./user/source/onenet.c ****     MqttBuffer_Init(ctx->mqttbuf);
 656              		.loc 1 486 0
 657 0080 04F17000 		add	r0, r4, #112
 658              	.LVL68:
 659 0084 FFF7FEFF 		bl	MqttBuffer_Init
 660              	.LVL69:
 487:./user/source/onenet.c ****     return 0;
 661              		.loc 1 487 0
 662 0088 0020     		movs	r0, #0
 488:./user/source/onenet.c **** }
 663              		.loc 1 488 0
 664 008a 10BD     		pop	{r4, pc}
 665              	.LVL70:
 666              	.L56:
 667              		.align	2
 668              	.L55:
 669 008c E0010000 		.word	.LC13
 670 0090 F0010000 		.word	.LC14
 671 0094 00000000 		.word	MqttSample_RecvPkt
 672 0098 00000000 		.word	MqttSample_SendPkt
 673 009c 00000000 		.word	MqttSample_HandleConnAck
 674 00a0 00000000 		.word	MqttSample_HandlePingResp
 675 00a4 00000000 		.word	MqttSample_HandlePublish
 676 00a8 00000000 		.word	MqttSample_HandlePubAck
 677 00ac 00000000 		.word	MqttSample_HandlePubRec
 678 00b0 00000000 		.word	MqttSample_HandlePubRel
 679 00b4 00000000 		.word	MqttSample_HandlePubComp
 680 00b8 00000000 		.word	MqttSample_HandleSubAck
 681 00bc 00000000 		.word	MqttSample_HandleUnsubAck
 682 00c0 00000000 		.word	MqttSample_HandleCmd
 683              		.cfi_endproc
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 22


 684              	.LFE138:
 686              		.global	__aeabi_ldivmod
 687              		.section	.text.MqttSample_HandleCmd,"ax",%progbits
 688              		.align	2
 689              		.thumb
 690              		.thumb_func
 692              	MqttSample_HandleCmd:
 693              	.LFB131:
 234:./user/source/onenet.c ****     uint32_t i;
 694              		.loc 1 234 0
 695              		.cfi_startproc
 696              		@ args = 28, pretend = 0, frame = 104
 697              		@ frame_needed = 0, uses_anonymous_args = 0
 698              	.LVL71:
 699 0000 2DE9F04E 		push	{r4, r5, r6, r7, r9, r10, fp, lr}
 700              	.LCFI15:
 701              		.cfi_def_cfa_offset 32
 702              		.cfi_offset 4, -32
 703              		.cfi_offset 5, -28
 704              		.cfi_offset 6, -24
 705              		.cfi_offset 7, -20
 706              		.cfi_offset 9, -16
 707              		.cfi_offset 10, -12
 708              		.cfi_offset 11, -8
 709              		.cfi_offset 14, -4
 710 0004 9EB0     		sub	sp, sp, #120
 711              	.LCFI16:
 712              		.cfi_def_cfa_offset 152
 713 0006 8346     		mov	fp, r0
 714 0008 8946     		mov	r9, r1
 715 000a 9246     		mov	r10, r2
 716 000c DDE92645 		ldrd	r4, [sp, #152]
 717 0010 299F     		ldr	r7, [sp, #164]
 718 0012 2A9E     		ldr	r6, [sp, #168]
 236:./user/source/onenet.c ****     struct MqttSampleContext *ctx = (struct MqttSampleContext *)arg;
 719              		.loc 1 236 0
 720 0014 6422     		movs	r2, #100
 721              	.LVL72:
 722 0016 0021     		movs	r1, #0
 723              	.LVL73:
 724 0018 05A8     		add	r0, sp, #20
 725              	.LVL74:
 726 001a FFF7FEFF 		bl	memset
 727              	.LVL75:
 238:./user/source/onenet.c ****     strcpy(ctx->cmdid, cmdid);
 728              		.loc 1 238 0
 729 001e ABF8B090 		strh	r9, [fp, #176]	@ movhi
 239:./user/source/onenet.c ****     printf("Recv the command, packet id is %d, cmduuid is %s, qos=%d, dup=%d.\n",
 730              		.loc 1 239 0
 731 0022 5146     		mov	r1, r10
 732 0024 0BF1B200 		add	r0, fp, #178
 733 0028 FFF7FEFF 		bl	strcpy
 734              	.LVL76:
 240:./user/source/onenet.c ****            pkt_id, cmdid, qos, dup);
 735              		.loc 1 240 0
 736 002c 2B9B     		ldr	r3, [sp, #172]
 737 002e 0093     		str	r3, [sp]
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 23


 738 0030 9DF8B030 		ldrb	r3, [sp, #176]	@ zero_extendqisi2
 739 0034 5246     		mov	r2, r10
 740 0036 4946     		mov	r1, r9
 741 0038 3248     		ldr	r0, .L66
 742 003a FFF7FEFF 		bl	printf
 743              	.LVL77:
 243:./user/source/onenet.c ****     {
 744              		.loc 1 243 0
 745 003e 54EA0503 		orrs	r3, r4, r5
 746 0042 2CD0     		beq	.L58
 747              	.LBB6:
 245:./user/source/onenet.c ****         struct tm *st = localtime(&seconds);
 748              		.loc 1 245 0
 749 0044 4FF47A72 		mov	r2, #1000
 750 0048 0023     		movs	r3, #0
 751 004a 2046     		mov	r0, r4
 752 004c 2946     		mov	r1, r5
 753 004e FFF7FEFF 		bl	__aeabi_ldivmod
 754              	.LVL78:
 755 0052 1EAB     		add	r3, sp, #120
 756 0054 43F8680D 		str	r0, [r3, #-104]!
 246:./user/source/onenet.c **** 
 757              		.loc 1 246 0
 758 0058 1846     		mov	r0, r3
 759 005a FFF7FEFF 		bl	localtime
 760              	.LVL79:
 761 005e 8146     		mov	r9, r0
 762              	.LVL80:
 249:./user/source/onenet.c ****                st->tm_hour, st->tm_min, st->tm_sec, (int)(timestamp % 1000));
 763              		.loc 1 249 0
 764 0060 D0F814A0 		ldr	r10, [r0, #20]
 765              	.LVL81:
 766 0064 D0F810B0 		ldr	fp, [r0, #16]
 767              	.LVL82:
 250:./user/source/onenet.c ****     }
 768              		.loc 1 250 0
 769 0068 4FF47A72 		mov	r2, #1000
 770 006c 0023     		movs	r3, #0
 771 006e 2046     		mov	r0, r4
 772              	.LVL83:
 773 0070 2946     		mov	r1, r5
 774 0072 FFF7FEFF 		bl	__aeabi_ldivmod
 775              	.LVL84:
 248:./user/source/onenet.c ****                st->tm_year + 1900, st->tm_mon + 1, st->tm_mday,
 776              		.loc 1 248 0
 777 0076 D9F80C30 		ldr	r3, [r9, #12]
 778 007a 0392     		str	r2, [sp, #12]
 779 007c D9F80020 		ldr	r2, [r9]
 780 0080 0292     		str	r2, [sp, #8]
 781 0082 D9F80420 		ldr	r2, [r9, #4]
 782 0086 0192     		str	r2, [sp, #4]
 783 0088 D9F80820 		ldr	r2, [r9, #8]
 784 008c 0092     		str	r2, [sp]
 785 008e 0BF10102 		add	r2, fp, #1
 786 0092 0AF26C71 		addw	r1, r10, #1900
 787 0096 1C48     		ldr	r0, .L66+4
 788 0098 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 24


 789              	.LVL85:
 790              	.LBE6:
 791 009c 02E0     		b	.L59
 792              	.LVL86:
 793              	.L58:
 254:./user/source/onenet.c ****     }
 794              		.loc 1 254 0
 795 009e 1B48     		ldr	r0, .L66+8
 796 00a0 FFF7FEFF 		bl	puts
 797              	.LVL87:
 798              	.L59:
 257:./user/source/onenet.c ****     {
 799              		.loc 1 257 0
 800 00a4 289B     		ldr	r3, [sp, #160]
 801 00a6 23B1     		cbz	r3, .L60
 259:./user/source/onenet.c ****     }
 802              		.loc 1 259 0
 803 00a8 1946     		mov	r1, r3
 804 00aa 1948     		ldr	r0, .L66+12
 805 00ac FFF7FEFF 		bl	printf
 806              	.LVL88:
 807 00b0 02E0     		b	.L61
 808              	.L60:
 263:./user/source/onenet.c ****     }
 809              		.loc 1 263 0
 810 00b2 1848     		ldr	r0, .L66+16
 811 00b4 FFF7FEFF 		bl	puts
 812              	.LVL89:
 813              	.L61:
 266:./user/source/onenet.c **** 
 814              		.loc 1 266 0
 815 00b8 3146     		mov	r1, r6
 816 00ba 1748     		ldr	r0, .L66+20
 817 00bc FFF7FEFF 		bl	printf
 818              	.LVL90:
 268:./user/source/onenet.c ****     {
 819              		.loc 1 268 0
 820 00c0 0024     		movs	r4, #0
 821 00c2 0CE0     		b	.L62
 822              	.LVL91:
 823              	.L64:
 824              	.LBB7:
 270:./user/source/onenet.c ****         if (0 == i % 16)
 825              		.loc 1 270 0
 826 00c4 3D5D     		ldrb	r5, [r7, r4]	@ zero_extendqisi2
 827              	.LVL92:
 271:./user/source/onenet.c ****         {
 828              		.loc 1 271 0
 829 00c6 14F00F0F 		tst	r4, #15
 830 00ca 02D1     		bne	.L63
 273:./user/source/onenet.c ****         }
 831              		.loc 1 273 0
 832 00cc 1348     		ldr	r0, .L66+24
 833 00ce FFF7FEFF 		bl	printf
 834              	.LVL93:
 835              	.L63:
 275:./user/source/onenet.c ****     }
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 25


 836              		.loc 1 275 0 discriminator 2
 837 00d2 2A46     		mov	r2, r5
 838 00d4 2946     		mov	r1, r5
 839 00d6 1248     		ldr	r0, .L66+28
 840 00d8 FFF7FEFF 		bl	printf
 841              	.LVL94:
 842              	.LBE7:
 268:./user/source/onenet.c ****     {
 843              		.loc 1 268 0 discriminator 2
 844 00dc 0134     		adds	r4, r4, #1
 845              	.LVL95:
 846              	.L62:
 268:./user/source/onenet.c ****     {
 847              		.loc 1 268 0 is_stmt 0 discriminator 1
 848 00de B442     		cmp	r4, r6
 849 00e0 F0D3     		bcc	.L64
 277:./user/source/onenet.c ****     memcpy(cmd_str, cmdarg, cmdarg_len);
 850              		.loc 1 277 0 is_stmt 1
 851 00e2 0A20     		movs	r0, #10
 852 00e4 FFF7FEFF 		bl	putchar
 853              	.LVL96:
 278:./user/source/onenet.c ****     printf("cmd: %s\r\n", cmd_str);
 854              		.loc 1 278 0
 855 00e8 3246     		mov	r2, r6
 856 00ea 3946     		mov	r1, r7
 857 00ec 05A8     		add	r0, sp, #20
 858 00ee FFF7FEFF 		bl	memcpy
 859              	.LVL97:
 279:./user/source/onenet.c **** 
 860              		.loc 1 279 0
 861 00f2 05A9     		add	r1, sp, #20
 862 00f4 0B48     		ldr	r0, .L66+32
 863 00f6 FFF7FEFF 		bl	printf
 864              	.LVL98:
 286:./user/source/onenet.c **** 
 865              		.loc 1 286 0
 866 00fa 0020     		movs	r0, #0
 867 00fc 1EB0     		add	sp, sp, #120
 868              	.LCFI17:
 869              		.cfi_def_cfa_offset 32
 870              		@ sp needed
 871 00fe BDE8F08E 		pop	{r4, r5, r6, r7, r9, r10, fp, pc}
 872              	.LVL99:
 873              	.L67:
 874 0102 00BF     		.align	2
 875              	.L66:
 876 0104 1C020000 		.word	.LC15
 877 0108 60020000 		.word	.LC16
 878 010c 9C020000 		.word	.LC17
 879 0110 B8020000 		.word	.LC18
 880 0114 D8020000 		.word	.LC19
 881 0118 F8020000 		.word	.LC20
 882 011c 38030000 		.word	.LC21
 883 0120 44030000 		.word	.LC22
 884 0124 50030000 		.word	.LC23
 885              		.cfi_endproc
 886              	.LFE131:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 26


 888              		.section	.text.MqttSample_RecvPkt,"ax",%progbits
 889              		.align	2
 890              		.thumb
 891              		.thumb_func
 893              	MqttSample_RecvPkt:
 894              	.LFB120:
  98:./user/source/onenet.c ****     int i;
 895              		.loc 1 98 0
 896              		.cfi_startproc
 897              		@ args = 0, pretend = 0, frame = 0
 898              		@ frame_needed = 0, uses_anonymous_args = 0
 899              	.LVL100:
 900 0000 38B5     		push	{r3, r4, r5, lr}
 901              	.LCFI18:
 902              		.cfi_def_cfa_offset 16
 903              		.cfi_offset 3, -16
 904              		.cfi_offset 4, -12
 905              		.cfi_offset 5, -8
 906              		.cfi_offset 14, -4
 907 0002 0C46     		mov	r4, r1
 908 0004 1546     		mov	r5, r2
 909              	.LVL101:
 103:./user/source/onenet.c ****     {
 910              		.loc 1 103 0
 911 0006 074B     		ldr	r3, .L72
 912 0008 1B68     		ldr	r3, [r3]
 913 000a 5868     		ldr	r0, [r3, #4]
 914              	.LVL102:
 915 000c FFF7FEFF 		bl	uwBuf_UnReadLen
 916              	.LVL103:
 917 0010 30B1     		cbz	r0, .L70
 105:./user/source/onenet.c ****     }
 918              		.loc 1 105 0
 919 0012 2A46     		mov	r2, r5
 920 0014 2146     		mov	r1, r4
 921 0016 034B     		ldr	r3, .L72
 922 0018 1868     		ldr	r0, [r3]
 923 001a FFF7FEFF 		bl	Uart_Read
 924              	.LVL104:
 925 001e 38BD     		pop	{r3, r4, r5, pc}
 926              	.LVL105:
 927              	.L70:
 100:./user/source/onenet.c ****     uint8_t buffer[128] = {0};
 928              		.loc 1 100 0
 929 0020 0020     		movs	r0, #0
 930              	.LVL106:
 108:./user/source/onenet.c **** 
 931              		.loc 1 108 0
 932 0022 38BD     		pop	{r3, r4, r5, pc}
 933              	.LVL107:
 934              	.L73:
 935              		.align	2
 936              	.L72:
 937 0024 00000000 		.word	pUartGPRS
 938              		.cfi_endproc
 939              	.LFE120:
 941              		.section	.text.MqttSample_Connect,"ax",%progbits
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 27


 942              		.align	2
 943              		.thumb
 944              		.thumb_func
 946              	MqttSample_Connect:
 947              	.LFB119:
  79:./user/source/onenet.c ****     int err, flags;
 948              		.loc 1 79 0
 949              		.cfi_startproc
 950              		@ args = 8, pretend = 0, frame = 0
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 952              	.LVL108:
 953 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 954              	.LCFI19:
 955              		.cfi_def_cfa_offset 28
 956              		.cfi_offset 4, -28
 957              		.cfi_offset 5, -24
 958              		.cfi_offset 6, -20
 959              		.cfi_offset 7, -16
 960              		.cfi_offset 8, -12
 961              		.cfi_offset 9, -8
 962              		.cfi_offset 14, -4
 963 0004 89B0     		sub	sp, sp, #36
 964              	.LCFI20:
 965              		.cfi_def_cfa_offset 64
 966 0006 0746     		mov	r7, r0
 967 0008 0E46     		mov	r6, r1
 968 000a 9046     		mov	r8, r2
 969 000c 9946     		mov	r9, r3
 970 000e 109D     		ldr	r5, [sp, #64]
  81:./user/source/onenet.c ****            proid, auth_info, devid, keep_alive, clean_session, MQTT_QOS_LEVEL0);
 971              		.loc 1 81 0
 972 0010 0024     		movs	r4, #0
 973 0012 0294     		str	r4, [sp, #8]
 974 0014 1198     		ldr	r0, [sp, #68]
 975              	.LVL109:
 976 0016 0190     		str	r0, [sp, #4]
 977 0018 0095     		str	r5, [sp]
 978 001a 1248     		ldr	r0, .L78
 979 001c FFF7FEFF 		bl	printf
 980              	.LVL110:
  83:./user/source/onenet.c ****                               clean_session, NULL,
 981              		.loc 1 83 0
 982 0020 7037     		adds	r7, r7, #112
 983              	.LVL111:
 984 0022 ADB2     		uxth	r5, r5
  87:./user/source/onenet.c ****     if (MQTTERR_NOERROR != err)
 985              		.loc 1 87 0
 986 0024 4046     		mov	r0, r8
 987 0026 FFF7FEFF 		bl	strlen
 988              	.LVL112:
  83:./user/source/onenet.c ****                               clean_session, NULL,
 989              		.loc 1 83 0
 990 002a 80B2     		uxth	r0, r0
 991 002c 0790     		str	r0, [sp, #28]
 992 002e CDF81880 		str	r8, [sp, #24]
 993 0032 0596     		str	r6, [sp, #20]
 994 0034 0494     		str	r4, [sp, #16]
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 28


 995 0036 0394     		str	r4, [sp, #12]
 996 0038 0294     		str	r4, [sp, #8]
 997 003a 0194     		str	r4, [sp, #4]
 998 003c 0094     		str	r4, [sp]
 999 003e 119B     		ldr	r3, [sp, #68]
 1000 0040 4A46     		mov	r2, r9
 1001 0042 2946     		mov	r1, r5
 1002 0044 3846     		mov	r0, r7
 1003 0046 FFF7FEFF 		bl	Mqtt_PackConnectPkt
 1004              	.LVL113:
  88:./user/source/onenet.c ****     {
 1005              		.loc 1 88 0
 1006 004a 30B1     		cbz	r0, .L76
 1007 004c 0146     		mov	r1, r0
  90:./user/source/onenet.c ****         return -1;
 1008              		.loc 1 90 0
 1009 004e 0648     		ldr	r0, .L78+4
 1010              	.LVL114:
 1011 0050 FFF7FEFF 		bl	printf
 1012              	.LVL115:
  91:./user/source/onenet.c ****     }
 1013              		.loc 1 91 0
 1014 0054 4FF0FF30 		mov	r0, #-1
 1015 0058 00E0     		b	.L75
 1016              	.LVL116:
 1017              	.L76:
  94:./user/source/onenet.c **** }
 1018              		.loc 1 94 0
 1019 005a 0020     		movs	r0, #0
 1020              	.LVL117:
 1021              	.L75:
  95:./user/source/onenet.c **** 
 1022              		.loc 1 95 0
 1023 005c 09B0     		add	sp, sp, #36
 1024              	.LCFI21:
 1025              		.cfi_def_cfa_offset 28
 1026              		@ sp needed
 1027 005e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1028              	.LVL118:
 1029              	.L79:
 1030 0062 00BF     		.align	2
 1031              	.L78:
 1032 0064 5C030000 		.word	.LC24
 1033 0068 B0030000 		.word	.LC25
 1034              		.cfi_endproc
 1035              	.LFE119:
 1037              		.section	.text.MqttSample_Subscribe,"ax",%progbits
 1038              		.align	2
 1039              		.thumb
 1040              		.thumb_func
 1042              	MqttSample_Subscribe:
 1043              	.LFB132:
 289:./user/source/onenet.c ****     int err;
 1044              		.loc 1 289 0
 1045              		.cfi_startproc
 1046              		@ args = 0, pretend = 0, frame = 0
 1047              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 29


 1048              	.LVL119:
 1049 0000 00B5     		push	{lr}
 1050              	.LCFI22:
 1051              		.cfi_def_cfa_offset 4
 1052              		.cfi_offset 14, -4
 1053 0002 83B0     		sub	sp, sp, #12
 1054              	.LCFI23:
 1055              		.cfi_def_cfa_offset 16
 291:./user/source/onenet.c ****     if (err != MQTTERR_NOERROR)
 1056              		.loc 1 291 0
 1057 0004 0092     		str	r2, [sp]
 1058 0006 0B46     		mov	r3, r1
 1059 0008 0022     		movs	r2, #0
 1060              	.LVL120:
 1061 000a 0221     		movs	r1, #2
 1062              	.LVL121:
 1063 000c 7030     		adds	r0, r0, #112
 1064              	.LVL122:
 1065 000e FFF7FEFF 		bl	Mqtt_PackSubscribePkt
 1066              	.LVL123:
 292:./user/source/onenet.c ****     {
 1067              		.loc 1 292 0
 1068 0012 28B1     		cbz	r0, .L82
 1069              	.LBB8:
 294:./user/source/onenet.c ****         return -1;
 1070              		.loc 1 294 0
 1071 0014 0448     		ldr	r0, .L84
 1072              	.LVL124:
 1073 0016 FFF7FEFF 		bl	puts
 1074              	.LVL125:
 295:./user/source/onenet.c ****     }
 1075              		.loc 1 295 0
 1076 001a 4FF0FF30 		mov	r0, #-1
 1077 001e 00E0     		b	.L81
 1078              	.LVL126:
 1079              	.L82:
 1080              	.LBE8:
 297:./user/source/onenet.c **** }
 1081              		.loc 1 297 0
 1082 0020 0020     		movs	r0, #0
 1083              	.LVL127:
 1084              	.L81:
 298:./user/source/onenet.c **** 
 1085              		.loc 1 298 0
 1086 0022 03B0     		add	sp, sp, #12
 1087              	.LCFI24:
 1088              		.cfi_def_cfa_offset 4
 1089              		@ sp needed
 1090 0024 5DF804FB 		ldr	pc, [sp], #4
 1091              	.L85:
 1092              		.align	2
 1093              	.L84:
 1094 0028 E8030000 		.word	.LC26
 1095              		.cfi_endproc
 1096              	.LFE132:
 1098              		.section	.text.sendHttpPkt,"ax",%progbits
 1099              		.align	2
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 30


 1100              		.global	sendHttpPkt
 1101              		.thumb
 1102              		.thumb_func
 1104              	sendHttpPkt:
 1105              	.LFB116:
  10:./user/source/onenet.c ****     char sendBuf0[20];
 1106              		.loc 1 10 0
 1107              		.cfi_startproc
 1108              		@ args = 0, pretend = 0, frame = 504
 1109              		@ frame_needed = 0, uses_anonymous_args = 0
 1110              	.LVL128:
 1111 0000 30B5     		push	{r4, r5, lr}
 1112              	.LCFI25:
 1113              		.cfi_def_cfa_offset 12
 1114              		.cfi_offset 4, -12
 1115              		.cfi_offset 5, -8
 1116              		.cfi_offset 14, -4
 1117 0002 ADF5017D 		sub	sp, sp, #516
 1118              	.LCFI26:
 1119              		.cfi_def_cfa_offset 528
 1120 0006 0546     		mov	r5, r0
 1121 0008 0C46     		mov	r4, r1
  14:./user/source/onenet.c ****     //printf("send HTTP pkt:\r\n%s\r\n", sendBuf1);
 1122              		.loc 1 14 0
 1123 000a 0846     		mov	r0, r1
 1124              	.LVL129:
 1125 000c FFF7FEFF 		bl	strlen
 1126              	.LVL130:
 1127 0010 0094     		str	r4, [sp]
 1128 0012 0346     		mov	r3, r0
 1129 0014 2A46     		mov	r2, r5
 1130 0016 0E49     		ldr	r1, .L88
 1131 0018 03A8     		add	r0, sp, #12
 1132 001a FFF7FEFF 		bl	sprintf
 1133              	.LVL131:
  16:./user/source/onenet.c ****     pSim800GPRS->AutoReadEn();
 1134              		.loc 1 16 0
 1135 001e 0D4C     		ldr	r4, .L88+4
 1136              	.LVL132:
 1137 0020 2368     		ldr	r3, [r4]
 1138 0022 1D69     		ldr	r5, [r3, #16]
 1139              	.LVL133:
 1140 0024 0123     		movs	r3, #1
 1141 0026 0522     		movs	r2, #5
 1142 0028 0B49     		ldr	r1, .L88+8
 1143 002a 0C48     		ldr	r0, .L88+12
 1144 002c A847     		blx	r5
 1145              	.LVL134:
  17:./user/source/onenet.c ****     pSim800GPRS->SendData((uint8_t *)sendBuf1, strlen(sendBuf1), 50 * TICKS_1S);
 1146              		.loc 1 17 0
 1147 002e 2368     		ldr	r3, [r4]
 1148 0030 9B69     		ldr	r3, [r3, #24]
 1149 0032 9847     		blx	r3
 1150              	.LVL135:
  18:./user/source/onenet.c **** }
 1151              		.loc 1 18 0
 1152 0034 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 31


 1153 0036 5C69     		ldr	r4, [r3, #20]
 1154 0038 03A8     		add	r0, sp, #12
 1155 003a FFF7FEFF 		bl	strlen
 1156              	.LVL136:
 1157 003e 4FF4FA72 		mov	r2, #500
 1158 0042 0146     		mov	r1, r0
 1159 0044 03A8     		add	r0, sp, #12
 1160 0046 A047     		blx	r4
 1161              	.LVL137:
  19:./user/source/onenet.c **** 
 1162              		.loc 1 19 0
 1163 0048 0DF5017D 		add	sp, sp, #516
 1164              	.LCFI27:
 1165              		.cfi_def_cfa_offset 12
 1166              		@ sp needed
 1167 004c 30BD     		pop	{r4, r5, pc}
 1168              	.L89:
 1169 004e 00BF     		.align	2
 1170              	.L88:
 1171 0050 1C040000 		.word	.LC27
 1172 0054 00000000 		.word	pSim800GPRS
 1173 0058 28040000 		.word	.LC28
 1174 005c 2C040000 		.word	.LC29
 1175              		.cfi_endproc
 1176              	.LFE116:
 1178              		.section	.text.uartDataParse,"ax",%progbits
 1179              		.align	2
 1180              		.global	uartDataParse
 1181              		.thumb
 1182              		.thumb_func
 1184              	uartDataParse:
 1185              	.LFB117:
  30:./user/source/onenet.c ****     char *p;
 1186              		.loc 1 30 0
 1187              		.cfi_startproc
 1188              		@ args = 0, pretend = 0, frame = 0
 1189              		@ frame_needed = 0, uses_anonymous_args = 0
 1190              	.LVL138:
 1191 0000 70B5     		push	{r4, r5, r6, lr}
 1192              	.LCFI28:
 1193              		.cfi_def_cfa_offset 16
 1194              		.cfi_offset 4, -16
 1195              		.cfi_offset 5, -12
 1196              		.cfi_offset 6, -8
 1197              		.cfi_offset 14, -4
 1198 0002 0446     		mov	r4, r0
 1199 0004 0D46     		mov	r5, r1
  34:./user/source/onenet.c ****     {
 1200              		.loc 1 34 0
 1201 0006 1549     		ldr	r1, .L97
 1202              	.LVL139:
 1203 0008 FFF7FEFF 		bl	strstr
 1204              	.LVL140:
 1205 000c 10B1     		cbz	r0, .L91
 1206              	.LBB9:
  36:./user/source/onenet.c ****     }
 1207              		.loc 1 36 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 32


 1208 000e 1448     		ldr	r0, .L97+4
 1209              	.LVL141:
 1210 0010 FFF7FEFF 		bl	puts
 1211              	.LVL142:
 1212              	.L91:
 1213              	.LBE9:
  38:./user/source/onenet.c ****     {
 1214              		.loc 1 38 0
 1215 0014 1349     		ldr	r1, .L97+8
 1216 0016 2046     		mov	r0, r4
 1217 0018 FFF7FEFF 		bl	strstr
 1218              	.LVL143:
 1219 001c 10B1     		cbz	r0, .L92
 1220              	.LBB10:
  40:./user/source/onenet.c ****     }
 1221              		.loc 1 40 0
 1222 001e 1248     		ldr	r0, .L97+12
 1223              	.LVL144:
 1224 0020 FFF7FEFF 		bl	puts
 1225              	.LVL145:
 1226              	.L92:
 1227              	.LBE10:
  42:./user/source/onenet.c ****     {
 1228              		.loc 1 42 0
 1229 0024 1149     		ldr	r1, .L97+16
 1230 0026 2046     		mov	r0, r4
 1231 0028 FFF7FEFF 		bl	strstr
 1232              	.LVL146:
 1233 002c 10B1     		cbz	r0, .L93
 1234              	.LBB11:
  44:./user/source/onenet.c ****     }
 1235              		.loc 1 44 0
 1236 002e 1048     		ldr	r0, .L97+20
 1237              	.LVL147:
 1238 0030 FFF7FEFF 		bl	puts
 1239              	.LVL148:
 1240              	.L93:
 1241              	.LBE11:
  46:./user/source/onenet.c ****     {
 1242              		.loc 1 46 0
 1243 0034 0F49     		ldr	r1, .L97+24
 1244 0036 2046     		mov	r0, r4
 1245 0038 FFF7FEFF 		bl	strstr
 1246              	.LVL149:
 1247 003c 60B1     		cbz	r0, .L95
  48:./user/source/onenet.c ****         p = strstr(p, ":"); //æŒ‡å‘é•¿åº¦å­—æ®µæœ«å°¾
 1248              		.loc 1 48 0
 1249 003e 461D     		adds	r6, r0, #5
 1250              	.LVL150:
  49:./user/source/onenet.c ****         *(p++) = '\0';      //é•¿åº¦å­—æ®µæœ«å°¾æ·»åŠ ç»“æŸç¬¦ï¼ŒpæŒ‡å‘æœåŠ¡å™¨ä¸‹å‘çš„ç¬¬ä¸€ä¸
 1251              		.loc 1 49 0
 1252 0040 3A21     		movs	r1, #58
 1253 0042 FFF7FEFF 		bl	strchr
 1254              	.LVL151:
  50:./user/source/onenet.c ****         len = atoi(pnum);
 1255              		.loc 1 50 0
 1256 0046 441C     		adds	r4, r0, #1
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 33


 1257              	.LVL152:
 1258 0048 0023     		movs	r3, #0
 1259 004a 0370     		strb	r3, [r0]
  51:./user/source/onenet.c ****         //printf("rcv %d data from OneNET:\r\n", len);
 1260              		.loc 1 51 0
 1261 004c 3046     		mov	r0, r6
 1262 004e FFF7FEFF 		bl	atoi
 1263              	.LVL153:
  54:./user/source/onenet.c ****         return p;
 1264              		.loc 1 54 0
 1265 0052 2860     		str	r0, [r5]
  55:./user/source/onenet.c ****     }
 1266              		.loc 1 55 0
 1267 0054 2046     		mov	r0, r4
 1268              	.LVL154:
 1269 0056 70BD     		pop	{r4, r5, r6, pc}
 1270              	.LVL155:
 1271              	.L95:
  57:./user/source/onenet.c **** }
 1272              		.loc 1 57 0
 1273 0058 0020     		movs	r0, #0
 1274              	.LVL156:
  58:./user/source/onenet.c **** 
 1275              		.loc 1 58 0
 1276 005a 70BD     		pop	{r4, r5, r6, pc}
 1277              	.LVL157:
 1278              	.L98:
 1279              		.align	2
 1280              	.L97:
 1281 005c 3C040000 		.word	.LC30
 1282 0060 44040000 		.word	.LC31
 1283 0064 5C040000 		.word	.LC32
 1284 0068 6C040000 		.word	.LC33
 1285 006c 80040000 		.word	.LC34
 1286 0070 90040000 		.word	.LC35
 1287 0074 A0040000 		.word	.LC36
 1288              		.cfi_endproc
 1289              	.LFE117:
 1291              		.section	.text.sendPkt,"ax",%progbits
 1292              		.align	2
 1293              		.global	sendPkt
 1294              		.thumb
 1295              		.thumb_func
 1297              	sendPkt:
 1298              	.LFB118:
  64:./user/source/onenet.c ****     char sendBuf[30];
 1299              		.loc 1 64 0
 1300              		.cfi_startproc
 1301              		@ args = 0, pretend = 0, frame = 32
 1302              		@ frame_needed = 0, uses_anonymous_args = 0
 1303              	.LVL158:
 1304 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1305              	.LCFI29:
 1306              		.cfi_def_cfa_offset 20
 1307              		.cfi_offset 4, -20
 1308              		.cfi_offset 5, -16
 1309              		.cfi_offset 6, -12
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 34


 1310              		.cfi_offset 7, -8
 1311              		.cfi_offset 14, -4
 1312 0002 89B0     		sub	sp, sp, #36
 1313              	.LCFI30:
 1314              		.cfi_def_cfa_offset 56
 1315 0004 0646     		mov	r6, r0
 1316 0006 0C46     		mov	r4, r1
 1317              	.LVL159:
  69:./user/source/onenet.c ****     //SendCmd(sendBuf, ">", 500);
 1318              		.loc 1 69 0
 1319 0008 0A46     		mov	r2, r1
 1320 000a 0A49     		ldr	r1, .L101
 1321              	.LVL160:
 1322 000c 6846     		mov	r0, sp
 1323              	.LVL161:
 1324 000e FFF7FEFF 		bl	sprintf
 1325              	.LVL162:
  72:./user/source/onenet.c ****     /* MQTTè®¾å¤‡è¿žæŽ¥åŒ…ï¼Œå‘é€ */
 1326              		.loc 1 72 0
 1327 0012 094D     		ldr	r5, .L101+4
 1328 0014 2B68     		ldr	r3, [r5]
 1329 0016 1F69     		ldr	r7, [r3, #16]
 1330 0018 0123     		movs	r3, #1
 1331 001a 0522     		movs	r2, #5
 1332 001c 0749     		ldr	r1, .L101+8
 1333 001e 6846     		mov	r0, sp
 1334 0020 B847     		blx	r7
 1335              	.LVL163:
  74:./user/source/onenet.c **** }
 1336              		.loc 1 74 0
 1337 0022 2B68     		ldr	r3, [r5]
 1338 0024 5B69     		ldr	r3, [r3, #20]
 1339 0026 4FF4FA72 		mov	r2, #500
 1340 002a 2146     		mov	r1, r4
 1341 002c 3046     		mov	r0, r6
 1342 002e 9847     		blx	r3
 1343              	.LVL164:
  75:./user/source/onenet.c **** 
 1344              		.loc 1 75 0
 1345 0030 09B0     		add	sp, sp, #36
 1346              	.LCFI31:
 1347              		.cfi_def_cfa_offset 20
 1348              		@ sp needed
 1349 0032 F0BD     		pop	{r4, r5, r6, r7, pc}
 1350              	.LVL165:
 1351              	.L102:
 1352              		.align	2
 1353              	.L101:
 1354 0034 2C040000 		.word	.LC29
 1355 0038 00000000 		.word	pSim800GPRS
 1356 003c 28040000 		.word	.LC28
 1357              		.cfi_endproc
 1358              	.LFE118:
 1360              		.section	.text.MqttSample_SendPkt,"ax",%progbits
 1361              		.align	2
 1362              		.thumb
 1363              		.thumb_func
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 35


 1365              	MqttSample_SendPkt:
 1366              	.LFB121:
 111:./user/source/onenet.c ****     char sendbuf[1024];
 1367              		.loc 1 111 0
 1368              		.cfi_startproc
 1369              		@ args = 0, pretend = 0, frame = 1024
 1370              		@ frame_needed = 0, uses_anonymous_args = 0
 1371              	.LVL166:
 1372 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1373              	.LCFI32:
 1374              		.cfi_def_cfa_offset 36
 1375              		.cfi_offset 4, -36
 1376              		.cfi_offset 5, -32
 1377              		.cfi_offset 6, -28
 1378              		.cfi_offset 7, -24
 1379              		.cfi_offset 8, -20
 1380              		.cfi_offset 9, -16
 1381              		.cfi_offset 10, -12
 1382              		.cfi_offset 11, -8
 1383              		.cfi_offset 14, -4
 1384 0004 ADF2044D 		subw	sp, sp, #1028
 1385              	.LCFI33:
 1386              		.cfi_def_cfa_offset 1064
 1387 0008 8946     		mov	r9, r1
 1388 000a 9346     		mov	fp, r2
 1389              	.LVL167:
 116:./user/source/onenet.c ****     for (i = 0; i < iovcnt; ++i)
 1390              		.loc 1 116 0
 1391 000c 1848     		ldr	r0, .L109
 1392              	.LVL168:
 1393 000e FFF7FEFF 		bl	puts
 1394              	.LVL169:
 117:./user/source/onenet.c ****     {
 1395              		.loc 1 117 0
 1396 0012 0027     		movs	r7, #0
 113:./user/source/onenet.c ****     int bytes;
 1397              		.loc 1 113 0
 1398 0014 B846     		mov	r8, r7
 117:./user/source/onenet.c ****     {
 1399              		.loc 1 117 0
 1400 0016 1CE0     		b	.L104
 1401              	.LVL170:
 1402              	.L107:
 1403              	.LBB12:
 119:./user/source/onenet.c ****         for (j = 0; j < iov[i].iov_len; ++j)
 1404              		.loc 1 119 0
 1405 0018 4FEAC70A 		lsl	r10, r7, #3
 1406 001c 09EB0A05 		add	r5, r9, r10
 1407 0020 59F83760 		ldr	r6, [r9, r7, lsl #3]
 1408              	.LVL171:
 120:./user/source/onenet.c ****         {
 1409              		.loc 1 120 0
 1410 0024 0024     		movs	r4, #0
 1411 0026 04E0     		b	.L105
 1412              	.LVL172:
 1413              	.L106:
 122:./user/source/onenet.c ****         }
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 36


 1414              		.loc 1 122 0 discriminator 3
 1415 0028 315D     		ldrb	r1, [r6, r4]	@ zero_extendqisi2
 1416 002a 1248     		ldr	r0, .L109+4
 1417 002c FFF7FEFF 		bl	printf
 1418              	.LVL173:
 120:./user/source/onenet.c ****         {
 1419              		.loc 1 120 0 discriminator 3
 1420 0030 0134     		adds	r4, r4, #1
 1421              	.LVL174:
 1422              	.L105:
 120:./user/source/onenet.c ****         {
 1423              		.loc 1 120 0 is_stmt 0 discriminator 1
 1424 0032 6B68     		ldr	r3, [r5, #4]
 1425 0034 A342     		cmp	r3, r4
 1426 0036 F7D8     		bhi	.L106
 124:./user/source/onenet.c **** 
 1427              		.loc 1 124 0 is_stmt 1 discriminator 2
 1428 0038 0A20     		movs	r0, #10
 1429 003a FFF7FEFF 		bl	putchar
 1430              	.LVL175:
 126:./user/source/onenet.c ****         len += iov[i].iov_len;
 1431              		.loc 1 126 0 discriminator 2
 1432 003e 6A68     		ldr	r2, [r5, #4]
 1433 0040 59F80A10 		ldr	r1, [r9, r10]
 1434 0044 0DEB0800 		add	r0, sp, r8
 1435 0048 FFF7FEFF 		bl	memcpy
 1436              	.LVL176:
 127:./user/source/onenet.c ****     }
 1437              		.loc 1 127 0 discriminator 2
 1438 004c 6B68     		ldr	r3, [r5, #4]
 1439 004e 9844     		add	r8, r8, r3
 1440              	.LVL177:
 1441              	.LBE12:
 117:./user/source/onenet.c ****     {
 1442              		.loc 1 117 0 discriminator 2
 1443 0050 0137     		adds	r7, r7, #1
 1444              	.LVL178:
 1445              	.L104:
 117:./user/source/onenet.c ****     {
 1446              		.loc 1 117 0 is_stmt 0 discriminator 1
 1447 0052 5F45     		cmp	r7, fp
 1448 0054 E0DB     		blt	.L107
 130:./user/source/onenet.c ****     printf("send over\n");
 1449              		.loc 1 130 0 is_stmt 1
 1450 0056 4146     		mov	r1, r8
 1451 0058 6846     		mov	r0, sp
 1452 005a FFF7FEFF 		bl	sendPkt
 1453              	.LVL179:
 131:./user/source/onenet.c ****     //return bytes;
 1454              		.loc 1 131 0
 1455 005e 0648     		ldr	r0, .L109+8
 1456 0060 FFF7FEFF 		bl	puts
 1457              	.LVL180:
 134:./user/source/onenet.c **** 
 1458              		.loc 1 134 0
 1459 0064 4046     		mov	r0, r8
 1460 0066 0DF2044D 		addw	sp, sp, #1028
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 37


 1461              	.LCFI34:
 1462              		.cfi_def_cfa_offset 36
 1463              		@ sp needed
 1464 006a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1465              	.LVL181:
 1466              	.L110:
 1467 006e 00BF     		.align	2
 1468              	.L109:
 1469 0070 A8040000 		.word	.LC37
 1470 0074 B8040000 		.word	.LC38
 1471 0078 C0040000 		.word	.LC39
 1472              		.cfi_endproc
 1473              	.LFE121:
 1475              		.section	.text.MqttSample_Savedata11,"ax",%progbits
 1476              		.align	2
 1477              		.global	MqttSample_Savedata11
 1478              		.thumb
 1479              		.thumb_func
 1481              	MqttSample_Savedata11:
 1482              	.LFB134:
 315:./user/source/onenet.c ****     int err;
 1483              		.loc 1 315 0
 1484              		.cfi_startproc
 1485              		@ args = 0, pretend = 0, frame = 296
 1486              		@ frame_needed = 0, uses_anonymous_args = 0
 1487              	.LVL182:
 1488 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1489              	.LCFI35:
 1490              		.cfi_def_cfa_offset 24
 1491              		.cfi_offset 4, -24
 1492              		.cfi_offset 5, -20
 1493              		.cfi_offset 6, -16
 1494              		.cfi_offset 7, -12
 1495              		.cfi_offset 8, -8
 1496              		.cfi_offset 14, -4
 1497 0004 CEB0     		sub	sp, sp, #312
 1498              	.LCFI36:
 1499              		.cfi_def_cfa_offset 336
 1500 0006 0546     		mov	r5, r0
 1501              	.LVL183:
 320:./user/source/onenet.c ****     lon_f = (lon * 10000) - lon_d;
 1502              		.loc 1 320 0
 1503 0008 FCEEC07A 		vcvt.u32.f32	s15, s0
 1504 000c CDED057A 		vstr.32	s15, [sp, #20]	@ int
 1505 0010 BDF81440 		ldrh	r4, [sp, #20]
 1506 0014 C4EB4413 		rsb	r3, r4, r4, lsl #5
 1507 0018 04EB8303 		add	r3, r4, r3, lsl #2
 1508 001c 03EB8303 		add	r3, r3, r3, lsl #2
 1509 0020 1A01     		lsls	r2, r3, #4
 1510 0022 92B2     		uxth	r2, r2
 1511              	.LVL184:
 321:./user/source/onenet.c ****     lat_d = (uint16_t)lat * 10000;
 1512              		.loc 1 321 0
 1513 0024 DFED3D7A 		vldr.32	s15, .L117
 1514 0028 20EE277A 		vmul.f32	s14, s0, s15
 1515 002c 06EE902A 		vmov	s13, r2	@ int
 1516 0030 B8EEE60A 		vcvt.f32.s32	s0, s13
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 38


 1517              	.LVL185:
 1518 0034 37EE400A 		vsub.f32	s0, s14, s0
 1519 0038 BCEEC07A 		vcvt.u32.f32	s14, s0
 1520 003c 8DED057A 		vstr.32	s14, [sp, #20]	@ int
 1521 0040 BDF81470 		ldrh	r7, [sp, #20]
 1522              	.LVL186:
 322:./user/source/onenet.c ****     lat_f = (lat * 10000) - lat_d;
 1523              		.loc 1 322 0
 1524 0044 BCEEE07A 		vcvt.u32.f32	s14, s1
 1525 0048 8DED057A 		vstr.32	s14, [sp, #20]	@ int
 1526 004c BDF81460 		ldrh	r6, [sp, #20]
 1527 0050 C6EB4613 		rsb	r3, r6, r6, lsl #5
 1528 0054 06EB8303 		add	r3, r6, r3, lsl #2
 1529 0058 03EB8303 		add	r3, r3, r3, lsl #2
 1530 005c 1A01     		lsls	r2, r3, #4
 1531              	.LVL187:
 1532 005e 92B2     		uxth	r2, r2
 1533              	.LVL188:
 323:./user/source/onenet.c **** 
 1534              		.loc 1 323 0
 1535 0060 60EEA77A 		vmul.f32	s15, s1, s15
 1536 0064 07EE102A 		vmov	s14, r2	@ int
 1537 0068 F8EEC70A 		vcvt.f32.s32	s1, s14
 1538              	.LVL189:
 1539 006c 77EEE00A 		vsub.f32	s1, s15, s1
 1540 0070 FCEEE07A 		vcvt.u32.f32	s15, s1
 1541 0074 CDED057A 		vstr.32	s15, [sp, #20]	@ int
 1542 0078 BDF81480 		ldrh	r8, [sp, #20]
 1543              	.LVL190:
 325:./user/source/onenet.c ****     char t_json[200];
 1544              		.loc 1 325 0
 1545 007c 5422     		movs	r2, #84
 1546              	.LVL191:
 1547 007e 2849     		ldr	r1, .L117+4
 1548 0080 39A8     		add	r0, sp, #228
 1549              	.LVL192:
 1550 0082 FFF7FEFF 		bl	memcpy
 1551              	.LVL193:
 332:./user/source/onenet.c ****     payload_len = 1 + 2 + strlen(t_json) / sizeof(char);
 1552              		.loc 1 332 0
 1553 0086 CDF80480 		str	r8, [sp, #4]
 1554 008a 0096     		str	r6, [sp]
 1555 008c 3B46     		mov	r3, r7
 1556 008e 2246     		mov	r2, r4
 1557 0090 39A9     		add	r1, sp, #228
 1558 0092 07A8     		add	r0, sp, #28
 1559 0094 FFF7FEFF 		bl	sprintf
 1560              	.LVL194:
 333:./user/source/onenet.c ****     json_len = strlen(t_json) / sizeof(char);
 1561              		.loc 1 333 0
 1562 0098 07A8     		add	r0, sp, #28
 1563 009a FFF7FEFF 		bl	strlen
 1564              	.LVL195:
 1565 009e 0646     		mov	r6, r0
 1566              	.LVL196:
 1567 00a0 00F10308 		add	r8, r0, #3
 1568              	.LVL197:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 39


 334:./user/source/onenet.c **** 
 1569              		.loc 1 334 0
 1570 00a4 87B2     		uxth	r7, r0
 1571              	.LVL198:
 336:./user/source/onenet.c ****     if (t_payload == NULL)
 1572              		.loc 1 336 0
 1573 00a6 4046     		mov	r0, r8
 1574 00a8 FFF7FEFF 		bl	malloc
 1575              	.LVL199:
 337:./user/source/onenet.c ****     {
 1576              		.loc 1 337 0
 1577 00ac 28B9     		cbnz	r0, .L112
 1578              	.LBB13:
 339:./user/source/onenet.c ****         return 0;
 1579              		.loc 1 339 0
 1580 00ae 1D49     		ldr	r1, .L117+8
 1581 00b0 1D48     		ldr	r0, .L117+12
 1582              	.LVL200:
 1583 00b2 FFF7FEFF 		bl	printf
 1584              	.LVL201:
 340:./user/source/onenet.c ****     }
 1585              		.loc 1 340 0
 1586 00b6 0020     		movs	r0, #0
 1587 00b8 2DE0     		b	.L113
 1588              	.LVL202:
 1589              	.L112:
 1590 00ba 0446     		mov	r4, r0
 1591              	.LVL203:
 1592              	.LBE13:
 344:./user/source/onenet.c **** 
 1593              		.loc 1 344 0
 1594 00bc 0123     		movs	r3, #1
 1595 00be 0370     		strb	r3, [r0]
 347:./user/source/onenet.c ****     t_payload[2] = json_len & 0xFF;
 1596              		.loc 1 347 0
 1597 00c0 3F0A     		lsrs	r7, r7, #8
 1598              	.LVL204:
 1599 00c2 4770     		strb	r7, [r0, #1]
 348:./user/source/onenet.c **** 
 1600              		.loc 1 348 0
 1601 00c4 8670     		strb	r6, [r0, #2]
 351:./user/source/onenet.c **** 
 1602              		.loc 1 351 0
 1603 00c6 B2B2     		uxth	r2, r6
 1604 00c8 07A9     		add	r1, sp, #28
 1605 00ca 0330     		adds	r0, r0, #3
 1606              	.LVL205:
 1607 00cc FFF7FEFF 		bl	memcpy
 1608              	.LVL206:
 353:./user/source/onenet.c ****     {
 1609              		.loc 1 353 0
 1610 00d0 2B6F     		ldr	r3, [r5, #112]
 1611 00d2 E3B9     		cbnz	r3, .L114
 358:./user/source/onenet.c ****            "$dp", pkt_id, MQTT_QOS_LEVEL1, t_json);
 1612              		.loc 1 358 0
 1613 00d4 154E     		ldr	r6, .L117+16
 1614              	.LVL207:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 40


 1615 00d6 07AB     		add	r3, sp, #28
 1616 00d8 0093     		str	r3, [sp]
 1617 00da 0123     		movs	r3, #1
 1618 00dc 1A46     		mov	r2, r3
 1619 00de 3146     		mov	r1, r6
 1620 00e0 1348     		ldr	r0, .L117+20
 1621 00e2 FFF7FEFF 		bl	printf
 1622              	.LVL208:
 360:./user/source/onenet.c ****                               MQTT_QOS_LEVEL1, 0, 1);
 1623              		.loc 1 360 0
 1624 00e6 0121     		movs	r1, #1
 1625 00e8 0391     		str	r1, [sp, #12]
 1626 00ea 0023     		movs	r3, #0
 1627 00ec 0293     		str	r3, [sp, #8]
 1628 00ee 0191     		str	r1, [sp, #4]
 1629 00f0 CDF80080 		str	r8, [sp]
 1630 00f4 2346     		mov	r3, r4
 1631 00f6 3246     		mov	r2, r6
 1632 00f8 05F17000 		add	r0, r5, #112
 1633 00fc FFF7FEFF 		bl	Mqtt_PackPublishPkt
 1634              	.LVL209:
 1635 0100 0546     		mov	r5, r0
 1636              	.LVL210:
 363:./user/source/onenet.c **** 
 1637              		.loc 1 363 0
 1638 0102 2046     		mov	r0, r4
 1639              	.LVL211:
 1640 0104 FFF7FEFF 		bl	free
 1641              	.LVL212:
 365:./user/source/onenet.c ****     {
 1642              		.loc 1 365 0
 1643 0108 25B9     		cbnz	r5, .L115
 370:./user/source/onenet.c **** }
 1644              		.loc 1 370 0
 1645 010a 0020     		movs	r0, #0
 1646 010c 03E0     		b	.L113
 1647              	.LVL213:
 1648              	.L114:
 355:./user/source/onenet.c ****     }
 1649              		.loc 1 355 0
 1650 010e 6FF00600 		mvn	r0, #6
 1651 0112 00E0     		b	.L113
 1652              	.LVL214:
 1653              	.L115:
 367:./user/source/onenet.c ****     }
 1654              		.loc 1 367 0
 1655 0114 2846     		mov	r0, r5
 1656              	.LVL215:
 1657              	.L113:
 371:./user/source/onenet.c **** 
 1658              		.loc 1 371 0
 1659 0116 4EB0     		add	sp, sp, #312
 1660              	.LCFI37:
 1661              		.cfi_def_cfa_offset 24
 1662              		@ sp needed
 1663 0118 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1664              	.LVL216:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 41


 1665              	.L118:
 1666              		.align	2
 1667              	.L117:
 1668 011c 00401C46 		.word	1176256512
 1669 0120 24050000 		.word	.LC40
 1670 0124 00000000 		.word	.LANCHOR1
 1671 0128 CC040000 		.word	.LC41
 1672 012c EC040000 		.word	.LC42
 1673 0130 F0040000 		.word	.LC43
 1674              		.cfi_endproc
 1675              	.LFE134:
 1677              		.section	.text.MqttSample_Savedata,"ax",%progbits
 1678              		.align	2
 1679              		.thumb
 1680              		.thumb_func
 1682              	MqttSample_Savedata:
 1683              	.LFB135:
 374:./user/source/onenet.c ****     char opt;
 1684              		.loc 1 374 0
 1685              		.cfi_startproc
 1686              		@ args = 0, pretend = 0, frame = 0
 1687              		@ frame_needed = 0, uses_anonymous_args = 0
 1688              	.LVL217:
 1689 0000 10B5     		push	{r4, lr}
 1690              	.LCFI38:
 1691              		.cfi_def_cfa_offset 8
 1692              		.cfi_offset 4, -8
 1693              		.cfi_offset 14, -4
 1694 0002 2DED028B 		vpush.64	{d8}
 1695              	.LCFI39:
 1696              		.cfi_def_cfa_offset 16
 1697              		.cfi_offset 80, -16
 1698              		.cfi_offset 81, -12
 1699 0006 0446     		mov	r4, r0
 1700 0008 B0EE408A 		vmov.f32	s16, s0
 1701 000c F0EE608A 		vmov.f32	s17, s1
 1702              	.LVL218:
 383:./user/source/onenet.c ****     MqttSample_Savedata11(ctx, lon, lat); // qos=1 type=1
 1703              		.loc 1 383 0
 1704 0010 0122     		movs	r2, #1
 1705 0012 1146     		mov	r1, r2
 1706 0014 0648     		ldr	r0, .L121
 1707              	.LVL219:
 1708 0016 FFF7FEFF 		bl	printf
 1709              	.LVL220:
 384:./user/source/onenet.c **** }
 1710              		.loc 1 384 0
 1711 001a F0EE680A 		vmov.f32	s1, s17
 1712 001e B0EE480A 		vmov.f32	s0, s16
 1713 0022 2046     		mov	r0, r4
 1714 0024 FFF7FEFF 		bl	MqttSample_Savedata11
 1715              	.LVL221:
 385:./user/source/onenet.c **** 
 1716              		.loc 1 385 0
 1717 0028 BDEC028B 		vldm	sp!, {d8}
 1718              	.LCFI40:
 1719              		.cfi_restore 80
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 42


 1720              		.cfi_restore 81
 1721              		.cfi_def_cfa_offset 8
 1722              	.LVL222:
 1723 002c 10BD     		pop	{r4, pc}
 1724              	.LVL223:
 1725              	.L122:
 1726 002e 00BF     		.align	2
 1727              	.L121:
 1728 0030 78050000 		.word	.LC44
 1729              		.cfi_endproc
 1730              	.LFE135:
 1732              		.section	.text.MqttSample_RespCmd,"ax",%progbits
 1733              		.align	2
 1734              		.global	MqttSample_RespCmd
 1735              		.thumb
 1736              		.thumb_func
 1738              	MqttSample_RespCmd:
 1739              	.LFB137:
 417:./user/source/onenet.c ****     int err;
 1740              		.loc 1 417 0
 1741              		.cfi_startproc
 1742              		@ args = 0, pretend = 0, frame = 0
 1743              		@ frame_needed = 0, uses_anonymous_args = 0
 1744              	.LVL224:
 1745 0000 70B5     		push	{r4, r5, r6, lr}
 1746              	.LCFI41:
 1747              		.cfi_def_cfa_offset 16
 1748              		.cfi_offset 4, -16
 1749              		.cfi_offset 5, -12
 1750              		.cfi_offset 6, -8
 1751              		.cfi_offset 14, -4
 1752 0002 84B0     		sub	sp, sp, #16
 1753              	.LCFI42:
 1754              		.cfi_def_cfa_offset 32
 1755 0004 0446     		mov	r4, r0
 1756 0006 0E46     		mov	r6, r1
 1757              	.LVL225:
 422:./user/source/onenet.c **** 
 1758              		.loc 1 422 0
 1759 0008 00F1B205 		add	r5, r0, #178
 1760 000c 2A46     		mov	r2, r5
 1761 000e 0021     		movs	r1, #0
 1762              	.LVL226:
 1763 0010 0C48     		ldr	r0, .L127
 1764              	.LVL227:
 1765 0012 FFF7FEFF 		bl	printf
 1766              	.LVL228:
 426:./user/source/onenet.c ****                                  resp, 11, MQTT_QOS_LEVEL0, 1);
 1767              		.loc 1 426 0
 1768 0016 0121     		movs	r1, #1
 1769 0018 0291     		str	r1, [sp, #8]
 1770 001a 0023     		movs	r3, #0
 1771 001c 0193     		str	r3, [sp, #4]
 1772 001e 0B23     		movs	r3, #11
 1773 0020 0093     		str	r3, [sp]
 1774 0022 3346     		mov	r3, r6
 1775 0024 2A46     		mov	r2, r5
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 43


 1776 0026 04F17000 		add	r0, r4, #112
 1777 002a FFF7FEFF 		bl	Mqtt_PackCmdRetPkt
 1778              	.LVL229:
 435:./user/source/onenet.c ****     {
 1779              		.loc 1 435 0
 1780 002e 28B1     		cbz	r0, .L125
 437:./user/source/onenet.c ****         return -1;
 1781              		.loc 1 437 0
 1782 0030 0548     		ldr	r0, .L127+4
 1783              	.LVL230:
 1784 0032 FFF7FEFF 		bl	puts
 1785              	.LVL231:
 438:./user/source/onenet.c ****     }
 1786              		.loc 1 438 0
 1787 0036 4FF0FF30 		mov	r0, #-1
 1788 003a 00E0     		b	.L124
 1789              	.LVL232:
 1790              	.L125:
 441:./user/source/onenet.c **** }
 1791              		.loc 1 441 0
 1792 003c 0020     		movs	r0, #0
 1793              	.LVL233:
 1794              	.L124:
 442:./user/source/onenet.c **** 
 1795              		.loc 1 442 0
 1796 003e 04B0     		add	sp, sp, #16
 1797              	.LCFI43:
 1798              		.cfi_def_cfa_offset 16
 1799              		@ sp needed
 1800 0040 70BD     		pop	{r4, r5, r6, pc}
 1801              	.LVL234:
 1802              	.L128:
 1803 0042 00BF     		.align	2
 1804              	.L127:
 1805 0044 90050000 		.word	.LC45
 1806 0048 A8050000 		.word	.LC46
 1807              		.cfi_endproc
 1808              	.LFE137:
 1810              		.section	.text.onenetGetDevID,"ax",%progbits
 1811              		.align	2
 1812              		.global	onenetGetDevID
 1813              		.thumb
 1814              		.thumb_func
 1816              	onenetGetDevID:
 1817              	.LFB139:
 489:./user/source/onenet.c **** int onenetGetDevID(struct MqttSampleContext *ctx)
 490:./user/source/onenet.c **** {
 1818              		.loc 1 490 0
 1819              		.cfi_startproc
 1820              		@ args = 0, pretend = 0, frame = 24
 1821              		@ frame_needed = 0, uses_anonymous_args = 0
 1822              	.LVL235:
 1823 0000 70B5     		push	{r4, r5, r6, lr}
 1824              	.LCFI44:
 1825              		.cfi_def_cfa_offset 16
 1826              		.cfi_offset 4, -16
 1827              		.cfi_offset 5, -12
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 44


 1828              		.cfi_offset 6, -8
 1829              		.cfi_offset 14, -4
 1830 0002 86B0     		sub	sp, sp, #24
 1831              	.LCFI45:
 1832              		.cfi_def_cfa_offset 40
 1833 0004 0546     		mov	r5, r0
 491:./user/source/onenet.c ****     char device_id[20] = {0};
 1834              		.loc 1 491 0
 1835 0006 0023     		movs	r3, #0
 1836 0008 0193     		str	r3, [sp, #4]
 1837 000a 0293     		str	r3, [sp, #8]
 1838 000c 0393     		str	r3, [sp, #12]
 1839 000e 0493     		str	r3, [sp, #16]
 1840 0010 0593     		str	r3, [sp, #20]
 1841              	.LVL236:
 492:./user/source/onenet.c ****     char *p = NULL, *pend = NULL;
 493:./user/source/onenet.c ****     sendHttpPkt(REG_PKT_HEAD, REG_PKT_BODY);
 1842              		.loc 1 493 0
 1843 0012 1849     		ldr	r1, .L134
 1844 0014 1848     		ldr	r0, .L134+4
 1845              	.LVL237:
 1846 0016 FFF7FEFF 		bl	sendHttpPkt
 1847              	.LVL238:
 494:./user/source/onenet.c ****     mDelay(3000);
 1848              		.loc 1 494 0
 1849 001a 40F6B830 		movw	r0, #3000
 1850 001e FFF7FEFF 		bl	mDelay
 1851              	.LVL239:
 495:./user/source/onenet.c ****     /* åˆ†æžè®¾å¤‡æ³¨å†Œè¿”å›žä¿¡æ¯ï¼ŒèŽ·å–è®¾å¤‡id */
 496:./user/source/onenet.c ****     if (0 != uwBuf_UnReadLen(pUartGPRS->pRsvbuf))
 1852              		.loc 1 496 0
 1853 0022 164B     		ldr	r3, .L134+8
 1854 0024 1B68     		ldr	r3, [r3]
 1855 0026 5868     		ldr	r0, [r3, #4]
 1856 0028 FFF7FEFF 		bl	uwBuf_UnReadLen
 1857              	.LVL240:
 1858 002c D8B1     		cbz	r0, .L130
 497:./user/source/onenet.c ****     {
 498:./user/source/onenet.c ****         pSim800GPRS->Read((uint8_t *)device_id, 20);
 1859              		.loc 1 498 0
 1860 002e 144B     		ldr	r3, .L134+12
 1861 0030 1B68     		ldr	r3, [r3]
 1862 0032 DB69     		ldr	r3, [r3, #28]
 1863 0034 1421     		movs	r1, #20
 1864 0036 01A8     		add	r0, sp, #4
 1865 0038 9847     		blx	r3
 1866              	.LVL241:
 499:./user/source/onenet.c ****         /* èŽ·å– è®¾å¤‡ID */
 500:./user/source/onenet.c ****         if ((p = strstr(device_id, "device_id")) != NULL)
 1867              		.loc 1 500 0
 1868 003a 1249     		ldr	r1, .L134+16
 1869 003c 01A8     		add	r0, sp, #4
 1870 003e FFF7FEFF 		bl	strstr
 1871              	.LVL242:
 1872 0042 0446     		mov	r4, r0
 1873 0044 98B1     		cbz	r0, .L131
 501:./user/source/onenet.c ****         {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 45


 502:./user/source/onenet.c ****             p += strlen("device_id\":\"");
 1874              		.loc 1 502 0
 1875 0046 0C34     		adds	r4, r4, #12
 1876              	.LVL243:
 503:./user/source/onenet.c ****             if ((pend = strstr(p, "\",")) != NULL)
 1877              		.loc 1 503 0
 1878 0048 0F49     		ldr	r1, .L134+20
 1879 004a 2046     		mov	r0, r4
 1880 004c FFF7FEFF 		bl	strstr
 1881              	.LVL244:
 1882 0050 68B1     		cbz	r0, .L131
 504:./user/source/onenet.c ****             {
 505:./user/source/onenet.c ****                 memcpy(device_id, p, pend - p);
 1883              		.loc 1 505 0
 1884 0052 01AE     		add	r6, sp, #4
 1885 0054 021B     		subs	r2, r0, r4
 1886 0056 2146     		mov	r1, r4
 1887 0058 3046     		mov	r0, r6
 1888              	.LVL245:
 1889 005a FFF7FEFF 		bl	memcpy
 1890              	.LVL246:
 506:./user/source/onenet.c ****                 //printf("get device id: %s\r\n", device_id);
 507:./user/source/onenet.c ****                 *ctx->devid = device_id;
 1891              		.loc 1 507 0
 1892 005e D5F89C30 		ldr	r3, [r5, #156]
 1893 0062 1E70     		strb	r6, [r3]
 1894 0064 03E0     		b	.L131
 1895              	.LVL247:
 1896              	.L130:
 508:./user/source/onenet.c ****             }
 509:./user/source/onenet.c ****         }
 510:./user/source/onenet.c ****     }
 511:./user/source/onenet.c ****     else if (ctx->devid == NULL)
 1897              		.loc 1 511 0
 1898 0066 D5F89C30 		ldr	r3, [r5, #156]
 1899 006a 03B9     		cbnz	r3, .L131
 1900              	.L132:
 1901 006c FEE7     		b	.L132
 1902              	.LVL248:
 1903              	.L131:
 512:./user/source/onenet.c ****     {
 513:./user/source/onenet.c ****         //printf("device regist fail!\r\n");
 514:./user/source/onenet.c ****         while (1)
 515:./user/source/onenet.c ****             ;
 516:./user/source/onenet.c ****     }
 517:./user/source/onenet.c **** }
 1904              		.loc 1 517 0 discriminator 1
 1905 006e 06B0     		add	sp, sp, #24
 1906              	.LCFI46:
 1907              		.cfi_def_cfa_offset 16
 1908              		@ sp needed
 1909 0070 70BD     		pop	{r4, r5, r6, pc}
 1910              	.LVL249:
 1911              	.L135:
 1912 0072 00BF     		.align	2
 1913              	.L134:
 1914 0074 DC050000 		.word	.LC47
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 46


 1915 0078 F0050000 		.word	.LC48
 1916 007c 00000000 		.word	pUartGPRS
 1917 0080 00000000 		.word	pSim800GPRS
 1918 0084 60060000 		.word	.LC49
 1919 0088 6C060000 		.word	.LC50
 1920              		.cfi_endproc
 1921              	.LFE139:
 1923              		.section	.text.onenetConnect,"ax",%progbits
 1924              		.align	2
 1925              		.global	onenetConnect
 1926              		.thumb
 1927              		.thumb_func
 1929              	onenetConnect:
 1930              	.LFB140:
 518:./user/source/onenet.c **** /*è¿žæŽ¥mqttä¸»ç«™*/
 519:./user/source/onenet.c **** int onenetConnect()
 520:./user/source/onenet.c **** {
 1931              		.loc 1 520 0
 1932              		.cfi_startproc
 1933              		@ args = 0, pretend = 0, frame = 0
 1934              		@ frame_needed = 0, uses_anonymous_args = 0
 1935 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1936              	.LCFI47:
 1937              		.cfi_def_cfa_offset 20
 1938              		.cfi_offset 4, -20
 1939              		.cfi_offset 5, -16
 1940              		.cfi_offset 6, -12
 1941              		.cfi_offset 7, -8
 1942              		.cfi_offset 14, -4
 1943 0002 83B0     		sub	sp, sp, #12
 1944              	.LCFI48:
 1945              		.cfi_def_cfa_offset 32
 521:./user/source/onenet.c ****     int err, bytes, i;
 522:./user/source/onenet.c ****     /* MQTTcontext åˆå§‹åŒ– */
 523:./user/source/onenet.c ****     if (MqttSample_Init(onenetCtx) < 0)
 1946              		.loc 1 523 0
 1947 0004 1948     		ldr	r0, .L144
 1948 0006 FFF7FEFF 		bl	MqttSample_Init
 1949              	.LVL250:
 1950 000a 0028     		cmp	r0, #0
 1951 000c 28DB     		blt	.L141
 524:./user/source/onenet.c ****     {
 525:./user/source/onenet.c ****         return -1;
 526:./user/source/onenet.c ****     }
 527:./user/source/onenet.c ****     //onenetGetDevID(onenetCtx);
 528:./user/source/onenet.c ****     onenetCtx->devid = "45245697";
 1952              		.loc 1 528 0
 1953 000e 1748     		ldr	r0, .L144
 1954 0010 174A     		ldr	r2, .L144+4
 1955 0012 C0F89C20 		str	r2, [r0, #156]
 529:./user/source/onenet.c ****     /****************åˆå§‹åŒ–å®Œæˆ******************/
 530:./user/source/onenet.c ****     /* mqttè¿žæŽ¥ */
 531:./user/source/onenet.c ****     //MqttSample_Connect(onenetCtx, PROD_ID, API_KEY, onenetCtx->devid, KEEP_ALIVE, CLEAN_SESSION);
 532:./user/source/onenet.c ****     MqttSample_Connect(onenetCtx, PROD_ID, onenetCtx->devid, onenetCtx->devid, KEEP_ALIVE, CLEAN_SE
 1956              		.loc 1 532 0
 1957 0016 0024     		movs	r4, #0
 1958 0018 0194     		str	r4, [sp, #4]
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 47


 1959 001a 7823     		movs	r3, #120
 1960 001c 0093     		str	r3, [sp]
 1961 001e 1346     		mov	r3, r2
 1962 0020 1449     		ldr	r1, .L144+8
 1963 0022 FFF7FEFF 		bl	MqttSample_Connect
 1964              	.LVL251:
 533:./user/source/onenet.c ****     for (i = 0; i < 3; i++)
 1965              		.loc 1 533 0
 1966 0026 17E0     		b	.L138
 1967              	.LVL252:
 1968              	.L140:
 534:./user/source/onenet.c ****     {
 535:./user/source/onenet.c ****         bytes = Mqtt_SendPkt(onenetCtx->mqttctx, onenetCtx->mqttbuf, 0);
 1969              		.loc 1 535 0
 1970 0028 1048     		ldr	r0, .L144
 1971 002a 00F17005 		add	r5, r0, #112
 1972 002e 0022     		movs	r2, #0
 1973 0030 2946     		mov	r1, r5
 1974 0032 0430     		adds	r0, r0, #4
 1975 0034 FFF7FEFF 		bl	Mqtt_SendPkt
 1976              	.LVL253:
 1977 0038 0646     		mov	r6, r0
 1978              	.LVL254:
 536:./user/source/onenet.c ****         MqttBuffer_Reset(onenetCtx->mqttbuf);
 1979              		.loc 1 536 0
 1980 003a 2846     		mov	r0, r5
 1981              	.LVL255:
 1982 003c FFF7FEFF 		bl	MqttBuffer_Reset
 1983              	.LVL256:
 537:./user/source/onenet.c ****         if (bytes == 0)
 1984              		.loc 1 537 0
 1985 0040 4EB1     		cbz	r6, .L139
 538:./user/source/onenet.c ****             continue;
 539:./user/source/onenet.c ****         mDelay(1000);
 1986              		.loc 1 539 0
 1987 0042 4FF47A70 		mov	r0, #1000
 1988 0046 FFF7FEFF 		bl	mDelay
 1989              	.LVL257:
 540:./user/source/onenet.c ****         err = Mqtt_RecvPkt(onenetCtx->mqttctx);
 1990              		.loc 1 540 0
 1991 004a A5F16C00 		sub	r0, r5, #108
 1992 004e FFF7FEFF 		bl	Mqtt_RecvPkt
 1993              	.LVL258:
 541:./user/source/onenet.c ****         if (err == MQTTERR_NOERROR)
 1994              		.loc 1 541 0
 1995 0052 0746     		mov	r7, r0
 1996 0054 38B1     		cbz	r0, .L142
 1997              	.LVL259:
 1998              	.L139:
 533:./user/source/onenet.c ****     {
 1999              		.loc 1 533 0 discriminator 2
 2000 0056 0134     		adds	r4, r4, #1
 2001              	.LVL260:
 2002              	.L138:
 533:./user/source/onenet.c ****     {
 2003              		.loc 1 533 0 is_stmt 0 discriminator 1
 2004 0058 022C     		cmp	r4, #2
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 48


 2005 005a E5DD     		ble	.L140
 2006 005c 3846     		mov	r0, r7
 2007 005e 02E0     		b	.L137
 2008              	.LVL261:
 2009              	.L141:
 525:./user/source/onenet.c ****     }
 2010              		.loc 1 525 0 is_stmt 1
 2011 0060 4FF0FF30 		mov	r0, #-1
 2012 0064 FFE7     		b	.L137
 2013              	.LVL262:
 2014              	.L142:
 2015              	.L137:
 542:./user/source/onenet.c ****             break;
 543:./user/source/onenet.c ****     }
 544:./user/source/onenet.c ****     return err;
 545:./user/source/onenet.c **** }
 2016              		.loc 1 545 0
 2017 0066 03B0     		add	sp, sp, #12
 2018              	.LCFI49:
 2019              		.cfi_def_cfa_offset 20
 2020              		@ sp needed
 2021 0068 F0BD     		pop	{r4, r5, r6, r7, pc}
 2022              	.L145:
 2023 006a 00BF     		.align	2
 2024              	.L144:
 2025 006c 00000000 		.word	.LANCHOR2
 2026 0070 70060000 		.word	.LC51
 2027 0074 7C060000 		.word	.LC52
 2028              		.cfi_endproc
 2029              	.LFE140:
 2031              		.section	.text.onenetSubscribe,"ax",%progbits
 2032              		.align	2
 2033              		.global	onenetSubscribe
 2034              		.thumb
 2035              		.thumb_func
 2037              	onenetSubscribe:
 2038              	.LFB141:
 546:./user/source/onenet.c **** 
 547:./user/source/onenet.c **** int onenetSubscribe(char **topic, int num)
 548:./user/source/onenet.c **** {
 2039              		.loc 1 548 0
 2040              		.cfi_startproc
 2041              		@ args = 0, pretend = 0, frame = 0
 2042              		@ frame_needed = 0, uses_anonymous_args = 0
 2043              	.LVL263:
 2044 0000 38B5     		push	{r3, r4, r5, lr}
 2045              	.LCFI50:
 2046              		.cfi_def_cfa_offset 16
 2047              		.cfi_offset 3, -16
 2048              		.cfi_offset 4, -12
 2049              		.cfi_offset 5, -8
 2050              		.cfi_offset 14, -4
 549:./user/source/onenet.c ****     int bytes;
 550:./user/source/onenet.c ****     /* mqttè®¢é˜… */
 551:./user/source/onenet.c ****     MqttSample_Subscribe(onenetCtx, topics, 1); //å¯ä¸€æ¬¡è®¢é˜…å¤šä¸ªï¼Œæœ¬ä¾‹åªç”¨åªè®¢é˜…ä¸€ä
 2051              		.loc 1 551 0
 2052 0002 094C     		ldr	r4, .L148
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 49


 2053 0004 0122     		movs	r2, #1
 2054 0006 0949     		ldr	r1, .L148+4
 2055              	.LVL264:
 2056 0008 2046     		mov	r0, r4
 2057              	.LVL265:
 2058 000a FFF7FEFF 		bl	MqttSample_Subscribe
 2059              	.LVL266:
 552:./user/source/onenet.c ****     bytes = Mqtt_SendPkt(onenetCtx->mqttctx, onenetCtx->mqttbuf, 0);
 2060              		.loc 1 552 0
 2061 000e 04F17005 		add	r5, r4, #112
 2062 0012 0022     		movs	r2, #0
 2063 0014 2946     		mov	r1, r5
 2064 0016 201D     		adds	r0, r4, #4
 2065 0018 FFF7FEFF 		bl	Mqtt_SendPkt
 2066              	.LVL267:
 2067 001c 0446     		mov	r4, r0
 2068              	.LVL268:
 553:./user/source/onenet.c ****     MqttBuffer_Reset(onenetCtx->mqttbuf);
 2069              		.loc 1 553 0
 2070 001e 2846     		mov	r0, r5
 2071              	.LVL269:
 2072 0020 FFF7FEFF 		bl	MqttBuffer_Reset
 2073              	.LVL270:
 554:./user/source/onenet.c ****     return bytes;
 555:./user/source/onenet.c **** }
 2074              		.loc 1 555 0
 2075 0024 2046     		mov	r0, r4
 2076 0026 38BD     		pop	{r3, r4, r5, pc}
 2077              	.LVL271:
 2078              	.L149:
 2079              		.align	2
 2080              	.L148:
 2081 0028 00000000 		.word	.LANCHOR2
 2082 002c 00000000 		.word	.LANCHOR3
 2083              		.cfi_endproc
 2084              	.LFE141:
 2086              		.section	.text.onenetPublish,"ax",%progbits
 2087              		.align	2
 2088              		.global	onenetPublish
 2089              		.thumb
 2090              		.thumb_func
 2092              	onenetPublish:
 2093              	.LFB142:
 556:./user/source/onenet.c **** int onenetPublish(int latitude, int longtitude)
 557:./user/source/onenet.c **** {
 2094              		.loc 1 557 0
 2095              		.cfi_startproc
 2096              		@ args = 0, pretend = 0, frame = 0
 2097              		@ frame_needed = 0, uses_anonymous_args = 0
 2098              	.LVL272:
 2099 0000 38B5     		push	{r3, r4, r5, lr}
 2100              	.LCFI51:
 2101              		.cfi_def_cfa_offset 16
 2102              		.cfi_offset 3, -16
 2103              		.cfi_offset 4, -12
 2104              		.cfi_offset 5, -8
 2105              		.cfi_offset 14, -4
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 50


 558:./user/source/onenet.c ****     int bytes;
 559:./user/source/onenet.c ****     /*mqttå‘å¸ƒ*/
 560:./user/source/onenet.c ****     MqttSample_Publish(onenetCtx, latitude, longtitude);
 2106              		.loc 1 560 0
 2107 0002 094C     		ldr	r4, .L152
 2108 0004 0A46     		mov	r2, r1
 2109 0006 0146     		mov	r1, r0
 2110              	.LVL273:
 2111 0008 2046     		mov	r0, r4
 2112              	.LVL274:
 2113 000a FFF7FEFF 		bl	MqttSample_Publish
 2114              	.LVL275:
 561:./user/source/onenet.c ****     bytes = Mqtt_SendPkt(onenetCtx->mqttctx, onenetCtx->mqttbuf, 0);
 2115              		.loc 1 561 0
 2116 000e 04F17005 		add	r5, r4, #112
 2117 0012 0022     		movs	r2, #0
 2118 0014 2946     		mov	r1, r5
 2119 0016 201D     		adds	r0, r4, #4
 2120 0018 FFF7FEFF 		bl	Mqtt_SendPkt
 2121              	.LVL276:
 2122 001c 0446     		mov	r4, r0
 2123              	.LVL277:
 562:./user/source/onenet.c ****     MqttBuffer_Reset(onenetCtx->mqttbuf);
 2124              		.loc 1 562 0
 2125 001e 2846     		mov	r0, r5
 2126              	.LVL278:
 2127 0020 FFF7FEFF 		bl	MqttBuffer_Reset
 2128              	.LVL279:
 563:./user/source/onenet.c ****     return bytes;
 564:./user/source/onenet.c **** }
 2129              		.loc 1 564 0
 2130 0024 2046     		mov	r0, r4
 2131 0026 38BD     		pop	{r3, r4, r5, pc}
 2132              	.LVL280:
 2133              	.L153:
 2134              		.align	2
 2135              	.L152:
 2136 0028 00000000 		.word	.LANCHOR2
 2137              		.cfi_endproc
 2138              	.LFE142:
 2140              		.section	.text.onenetResCmd,"ax",%progbits
 2141              		.align	2
 2142              		.global	onenetResCmd
 2143              		.thumb
 2144              		.thumb_func
 2146              	onenetResCmd:
 2147              	.LFB143:
 565:./user/source/onenet.c **** int onenetResCmd(char *resp)
 566:./user/source/onenet.c **** {
 2148              		.loc 1 566 0
 2149              		.cfi_startproc
 2150              		@ args = 0, pretend = 0, frame = 0
 2151              		@ frame_needed = 0, uses_anonymous_args = 0
 2152              	.LVL281:
 2153 0000 38B5     		push	{r3, r4, r5, lr}
 2154              	.LCFI52:
 2155              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 51


 2156              		.cfi_offset 3, -16
 2157              		.cfi_offset 4, -12
 2158              		.cfi_offset 5, -8
 2159              		.cfi_offset 14, -4
 567:./user/source/onenet.c ****     int bytes;
 568:./user/source/onenet.c ****     /* mqttå›žå¤å‘½ä»¤ */
 569:./user/source/onenet.c ****     MqttSample_RespCmd(onenetCtx, resp);
 2160              		.loc 1 569 0
 2161 0002 084C     		ldr	r4, .L156
 2162 0004 0146     		mov	r1, r0
 2163 0006 2046     		mov	r0, r4
 2164              	.LVL282:
 2165 0008 FFF7FEFF 		bl	MqttSample_RespCmd
 2166              	.LVL283:
 570:./user/source/onenet.c ****     bytes = Mqtt_SendPkt(onenetCtx->mqttctx, onenetCtx->mqttbuf, 0);
 2167              		.loc 1 570 0
 2168 000c 04F17005 		add	r5, r4, #112
 2169 0010 0022     		movs	r2, #0
 2170 0012 2946     		mov	r1, r5
 2171 0014 201D     		adds	r0, r4, #4
 2172 0016 FFF7FEFF 		bl	Mqtt_SendPkt
 2173              	.LVL284:
 571:./user/source/onenet.c ****     MqttBuffer_Reset(onenetCtx->mqttbuf);
 2174              		.loc 1 571 0
 2175 001a 2846     		mov	r0, r5
 2176 001c FFF7FEFF 		bl	MqttBuffer_Reset
 2177              	.LVL285:
 572:./user/source/onenet.c **** }
 2178              		.loc 1 572 0
 2179 0020 38BD     		pop	{r3, r4, r5, pc}
 2180              	.L157:
 2181 0022 00BF     		.align	2
 2182              	.L156:
 2183 0024 00000000 		.word	.LANCHOR2
 2184              		.cfi_endproc
 2185              	.LFE143:
 2187              		.section	.text.onenetSendData,"ax",%progbits
 2188              		.align	2
 2189              		.global	onenetSendData
 2190              		.thumb
 2191              		.thumb_func
 2193              	onenetSendData:
 2194              	.LFB144:
 573:./user/source/onenet.c **** int onenetSendData(float lon, float lat)
 574:./user/source/onenet.c **** {
 2195              		.loc 1 574 0
 2196              		.cfi_startproc
 2197              		@ args = 0, pretend = 0, frame = 0
 2198              		@ frame_needed = 0, uses_anonymous_args = 0
 2199              	.LVL286:
 2200 0000 38B5     		push	{r3, r4, r5, lr}
 2201              	.LCFI53:
 2202              		.cfi_def_cfa_offset 16
 2203              		.cfi_offset 3, -16
 2204              		.cfi_offset 4, -12
 2205              		.cfi_offset 5, -8
 2206              		.cfi_offset 14, -4
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 52


 575:./user/source/onenet.c ****     int bytes;
 576:./user/source/onenet.c ****     /*mqttä¸Šä¼ æ•°æ® */
 577:./user/source/onenet.c ****     MqttSample_Savedata(onenetCtx, lon, lat);
 2207              		.loc 1 577 0
 2208 0002 084C     		ldr	r4, .L160
 2209 0004 2046     		mov	r0, r4
 2210 0006 FFF7FEFF 		bl	MqttSample_Savedata
 2211              	.LVL287:
 578:./user/source/onenet.c ****     bytes = Mqtt_SendPkt(onenetCtx->mqttctx, onenetCtx->mqttbuf, 0);
 2212              		.loc 1 578 0
 2213 000a 04F17005 		add	r5, r4, #112
 2214 000e 0022     		movs	r2, #0
 2215 0010 2946     		mov	r1, r5
 2216 0012 201D     		adds	r0, r4, #4
 2217 0014 FFF7FEFF 		bl	Mqtt_SendPkt
 2218              	.LVL288:
 2219 0018 0446     		mov	r4, r0
 2220              	.LVL289:
 579:./user/source/onenet.c ****     MqttBuffer_Reset(onenetCtx->mqttbuf);
 2221              		.loc 1 579 0
 2222 001a 2846     		mov	r0, r5
 2223              	.LVL290:
 2224 001c FFF7FEFF 		bl	MqttBuffer_Reset
 2225              	.LVL291:
 580:./user/source/onenet.c ****     return bytes;
 581:./user/source/onenet.c **** }
 2226              		.loc 1 581 0
 2227 0020 2046     		mov	r0, r4
 2228 0022 38BD     		pop	{r3, r4, r5, pc}
 2229              	.LVL292:
 2230              	.L161:
 2231              		.align	2
 2232              	.L160:
 2233 0024 00000000 		.word	.LANCHOR2
 2234              		.cfi_endproc
 2235              	.LFE144:
 2237              		.comm	g_cmdid,64,4
 2238              		.section	.rodata.__FUNCTION__.7793,"a",%progbits
 2239              		.align	2
 2240              		.set	.LANCHOR1,. + 0
 2243              	__FUNCTION__.7793:
 2244 0000 4D717474 		.ascii	"MqttSample_Savedata11\000"
 2244      53616D70 
 2244      6C655F53 
 2244      61766564 
 2244      61746131 
 2245              		.section	.bss.onenetContex,"aw",%nobits
 2246              		.align	2
 2247              		.set	.LANCHOR2,. + 0
 2250              	onenetContex:
 2251 0000 00000000 		.space	248
 2251      00000000 
 2251      00000000 
 2251      00000000 
 2251      00000000 
 2252              		.section	.rodata.str1.4,"aMS",%progbits,1
 2253              		.align	2
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 53


 2254              	.LC0:
 2255 0000 52656376 		.ascii	"Recv the ping response.\000"
 2255      20746865 
 2255      2070696E 
 2255      67207265 
 2255      73706F6E 
 2256              	.LC1:
 2257 0018 52656376 		.ascii	"Recv the unsubscribe ack, packet id is %d.\012\000"
 2257      20746865 
 2257      20756E73 
 2257      75627363 
 2257      72696265 
 2258              	.LC2:
 2259 0044 52656376 		.ascii	"Recv the subscribe ack, packet id is %d, return cod"
 2259      20746865 
 2259      20737562 
 2259      73637269 
 2259      62652061 
 2260 0077 6520636F 		.ascii	"e count is %d:.\012\000"
 2260      756E7420 
 2260      69732025 
 2260      643A2E0A 
 2260      00
 2261              	.LC3:
 2262 0088 20202063 		.ascii	"   code%d=%02x\012\000"
 2262      6F646525 
 2262      643D2530 
 2262      32780A00 
 2263              	.LC4:
 2264 0098 52656376 		.ascii	"Recv the publish comp, packet id is %d.\012\000"
 2264      20746865 
 2264      20707562 
 2264      6C697368 
 2264      20636F6D 
 2265 00c1 000000   		.space	3
 2266              	.LC5:
 2267 00c4 52656376 		.ascii	"Recv the publish rel, packet id is %d.\012\000"
 2267      20746865 
 2267      20707562 
 2267      6C697368 
 2267      2072656C 
 2268              	.LC6:
 2269 00ec 52656376 		.ascii	"Recv the publish rec, packet id is %d.\012\000"
 2269      20746865 
 2269      20707562 
 2269      6C697368 
 2269      20726563 
 2270              	.LC7:
 2271 0114 52656376 		.ascii	"Recv the publish ack, packet id is %d.\012\000"
 2271      20746865 
 2271      20707562 
 2271      6C697368 
 2271      2061636B 
 2272              	.LC8:
 2273 013c 53756363 		.ascii	"Success to connect to the server, flags(%0x), code("
 2273      65737320 
 2273      746F2063 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 54


 2273      6F6E6E65 
 2273      63742074 
 2274 016f 2564292E 		.ascii	"%d).\012\000"
 2274      0A00
 2275 0175 000000   		.space	3
 2276              	.LC9:
 2277 0178 6475703A 		.ascii	"dup: %d, qos: %d, id: %d\015\012topic: %s\015\012pa"
 2277      2025642C 
 2277      20716F73 
 2277      3A202564 
 2277      2C206964 
 2278 019f 796C6F61 		.ascii	"yloadsize: %d  payload: %s\015\012\000"
 2278      6473697A 
 2278      653A2025 
 2278      64202070 
 2278      61796C6F 
 2279              	.LC10:
 2280 01bc 25642C20 		.ascii	"%d, %d\000"
 2280      256400
 2281 01c3 00       		.space	1
 2282              	.LC11:
 2283 01c4 67707300 		.ascii	"gps\000"
 2284              	.LC12:
 2285 01c8 3C25733E 		.ascii	"<%s>: public %s : %s\015\012\000"
 2285      3A207075 
 2285      626C6963 
 2285      20257320 
 2285      3A202573 
 2286 01df 00       		.space	1
 2287              	.LC13:
 2288 01e0 3138332E 		.ascii	"183.230.40.39\000"
 2288      3233302E 
 2288      34302E33 
 2288      3900
 2289 01ee 0000     		.space	2
 2290              	.LC14:
 2291 01f0 4661696C 		.ascii	"Failed to init MQTT context errcode is %d\000"
 2291      65642074 
 2291      6F20696E 
 2291      6974204D 
 2291      51545420 
 2292 021a 0000     		.space	2
 2293              	.LC15:
 2294 021c 52656376 		.ascii	"Recv the command, packet id is %d, cmduuid is %s, q"
 2294      20746865 
 2294      20636F6D 
 2294      6D616E64 
 2294      2C207061 
 2295 024f 6F733D25 		.ascii	"os=%d, dup=%d.\012\000"
 2295      642C2064 
 2295      75703D25 
 2295      642E0A00 
 2296 025f 00       		.space	1
 2297              	.LC16:
 2298 0260 20202020 		.ascii	"    The timestampe is %04d-%02d-%02dT%02d:%02d:%02d"
 2298      54686520 
 2298      74696D65 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 55


 2298      7374616D 
 2298      70652069 
 2299 0293 2E253033 		.ascii	".%03d.\012\000"
 2299      642E0A00 
 2300 029b 00       		.space	1
 2301              	.LC17:
 2302 029c 20202020 		.ascii	"    There is no timestamp.\000"
 2302      54686572 
 2302      65206973 
 2302      206E6F20 
 2302      74696D65 
 2303 02b7 00       		.space	1
 2304              	.LC18:
 2305 02b8 20202020 		.ascii	"    The description is: %s.\012\000"
 2305      54686520 
 2305      64657363 
 2305      72697074 
 2305      696F6E20 
 2306 02d5 000000   		.space	3
 2307              	.LC19:
 2308 02d8 20202020 		.ascii	"    There is no description.\000"
 2308      54686572 
 2308      65206973 
 2308      206E6F20 
 2308      64657363 
 2309 02f5 000000   		.space	3
 2310              	.LC20:
 2311 02f8 20202020 		.ascii	"    The length of the command argument is %d, the a"
 2311      54686520 
 2311      6C656E67 
 2311      7468206F 
 2311      66207468 
 2312 032b 7267756D 		.ascii	"rgument is:\000"
 2312      656E7420 
 2312      69733A00 
 2313 0337 00       		.space	1
 2314              	.LC21:
 2315 0338 0A202020 		.ascii	"\012        \000"
 2315      20202020 
 2315      2000
 2316 0342 0000     		.space	2
 2317              	.LC22:
 2318 0344 25303258 		.ascii	"%02X'%c' \000"
 2318      27256327 
 2318      2000
 2319 034e 0000     		.space	2
 2320              	.LC23:
 2321 0350 636D643A 		.ascii	"cmd: %s\015\012\000"
 2321      2025730D 
 2321      0A00
 2322 035a 0000     		.space	2
 2323              	.LC24:
 2324 035c 70726F64 		.ascii	"product id: %s\015\012sn: %s\015\012deviceid: %s\015"
 2324      75637420 
 2324      69643A20 
 2324      25730D0A 
 2324      736E3A20 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 56


 2325 0381 0A6B6565 		.ascii	"\012keepalive: %d\015\012cleansession: %d\015\012Qo"
 2325      70616C69 
 2325      76653A20 
 2325      25640D0A 
 2325      636C6561 
 2326 03a5 533A2025 		.ascii	"S: %d\015\012\000"
 2326      640D0A00 
 2327 03ad 000000   		.space	3
 2328              	.LC25:
 2329 03b0 4661696C 		.ascii	"Failed to pack the MQTT CONNECT PACKET, errcode is "
 2329      65642074 
 2329      6F207061 
 2329      636B2074 
 2329      6865204D 
 2330 03e3 25642E0A 		.ascii	"%d.\012\000"
 2330      00
 2331              	.LC26:
 2332 03e8 43726974 		.ascii	"Critical bug: failed to pack the subscribe packet.\000"
 2332      6963616C 
 2332      20627567 
 2332      3A206661 
 2332      696C6564 
 2333 041b 00       		.space	1
 2334              	.LC27:
 2335 041c 25732564 		.ascii	"%s%d\015\012\015\012%s\000"
 2335      0D0A0D0A 
 2335      257300
 2336 0427 00       		.space	1
 2337              	.LC28:
 2338 0428 3E00     		.ascii	">\000"
 2339 042a 0000     		.space	2
 2340              	.LC29:
 2341 042c 41542B43 		.ascii	"AT+CIPSEND=%d\015\012\000"
 2341      49505345 
 2341      4E443D25 
 2341      640D0A00 
 2342              	.LC30:
 2343 043c 434C4F53 		.ascii	"CLOSED\000"
 2343      454400
 2344 0443 00       		.space	1
 2345              	.LC31:
 2346 0444 74637020 		.ascii	"tcp connection closed\015\000"
 2346      636F6E6E 
 2346      65637469 
 2346      6F6E2063 
 2346      6C6F7365 
 2347 045b 00       		.space	1
 2348              	.LC32:
 2349 045c 57494649 		.ascii	"WIFI DISCONNECT\000"
 2349      20444953 
 2349      434F4E4E 
 2349      45435400 
 2350              	.LC33:
 2351 046c 77696669 		.ascii	"wifi disconnected\015\000"
 2351      20646973 
 2351      636F6E6E 
 2351      65637465 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 57


 2351      640D00
 2352 047f 00       		.space	1
 2353              	.LC34:
 2354 0480 57494649 		.ascii	"WIFI CONNECTED\000"
 2354      20434F4E 
 2354      4E454354 
 2354      454400
 2355 048f 00       		.space	1
 2356              	.LC35:
 2357 0490 77696669 		.ascii	"wifi connected\015\000"
 2357      20636F6E 
 2357      6E656374 
 2357      65640D00 
 2358              	.LC36:
 2359 04a0 2B495044 		.ascii	"+IPD\000"
 2359      00
 2360 04a5 000000   		.space	3
 2361              	.LC37:
 2362 04a8 73656E64 		.ascii	"send one pkt\000"
 2362      206F6E65 
 2362      20706B74 
 2362      00
 2363 04b5 000000   		.space	3
 2364              	.LC38:
 2365 04b8 25303258 		.ascii	"%02X \000"
 2365      2000
 2366 04be 0000     		.space	2
 2367              	.LC39:
 2368 04c0 73656E64 		.ascii	"send over\000"
 2368      206F7665 
 2368      7200
 2369 04ca 0000     		.space	2
 2370              	.LC41:
 2371 04cc 3C25733E 		.ascii	"<%s>: t_payload malloc error\015\012\000"
 2371      3A20745F 
 2371      7061796C 
 2371      6F616420 
 2371      6D616C6C 
 2372 04eb 00       		.space	1
 2373              	.LC42:
 2374 04ec 24647000 		.ascii	"$dp\000"
 2375              	.LC43:
 2376 04f0 546F7069 		.ascii	"Topic: %s\015\012Pakect ID: %d\015\012QoS: %d\015\012"
 2376      633A2025 
 2376      730D0A50 
 2376      616B6563 
 2376      74204944 
 2377 0513 5061796C 		.ascii	"Payload: %s\015\012\000"
 2377      6F61643A 
 2377      2025730D 
 2377      0A00
 2378 0521 000000   		.space	3
 2379              	.LC40:
 2380 0524 7B226461 		.ascii	"{\"datastreams\":[{\"id\":\"loc\",\"datapoints\":[{"
 2380      74617374 
 2380      7265616D 
 2380      73223A5B 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 58


 2380      7B226964 
 2381 054f 2276616C 		.ascii	"\"value\":{\"lon\":%d.%4d,\"lat\":%d.%4d}}]}]}\000"
 2381      7565223A 
 2381      7B226C6F 
 2381      6E223A25 
 2381      642E2534 
 2382              	.LC44:
 2383 0578 516F733A 		.ascii	"Qos: %d    Type: %d\015\012\000"
 2383      20256420 
 2383      20202054 
 2383      7970653A 
 2383      2025640D 
 2384 058e 0000     		.space	2
 2385              	.LC45:
 2386 0590 516F533A 		.ascii	"QoS: %d\015\012CmdId: %s\015\012\000"
 2386      2025640D 
 2386      0A436D64 
 2386      49643A20 
 2386      25730D0A 
 2387 05a5 000000   		.space	3
 2388              	.LC46:
 2389 05a8 43726974 		.ascii	"Critical bug: failed to pack the cmd ret packet.\000"
 2389      6963616C 
 2389      20627567 
 2389      3A206661 
 2389      696C6564 
 2390 05d9 000000   		.space	3
 2391              	.LC47:
 2392 05dc 7B227469 		.ascii	"{\"title\":\"Sim800\"}\000"
 2392      746C6522 
 2392      3A225369 
 2392      6D383030 
 2392      227D00
 2393 05ef 00       		.space	1
 2394              	.LC48:
 2395 05f0 504F5354 		.ascii	"POST http://api.heclouds.com/devices HTTP/1.1\015\012"
 2395      20687474 
 2395      703A2F2F 
 2395      6170692E 
 2395      6865636C 
 2396 061f 6170692D 		.ascii	"api-key: reC6LwIXkj6j9=AV5CCo8g6qijg=Host: api.hecl"
 2396      6B65793A 
 2396      20726543 
 2396      364C7749 
 2396      586B6A36 
 2397 0652 6F756473 		.ascii	"ouds.com\015\012\000"
 2397      2E636F6D 
 2397      0D0A00
 2398 065d 000000   		.space	3
 2399              	.LC49:
 2400 0660 64657669 		.ascii	"device_id\000"
 2400      63655F69 
 2400      6400
 2401 066a 0000     		.space	2
 2402              	.LC50:
 2403 066c 222C00   		.ascii	"\",\000"
 2404 066f 00       		.space	1
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 59


 2405              	.LC51:
 2406 0670 34353234 		.ascii	"45245697\000"
 2406      35363937 
 2406      00
 2407 0679 000000   		.space	3
 2408              	.LC52:
 2409 067c 31373332 		.ascii	"173278\000"
 2409      373800
 2410 0683 00       		.space	1
 2411              	.LC53:
 2412 0684 74657374 		.ascii	"test2\000"
 2412      3200
 2413              		.section	.rodata.__FUNCTION__.7820,"a",%progbits
 2414              		.align	2
 2415              		.set	.LANCHOR0,. + 0
 2418              	__FUNCTION__.7820:
 2419 0000 4D717474 		.ascii	"MqttSample_Publish\000"
 2419      53616D70 
 2419      6C655F50 
 2419      75626C69 
 2419      736800
 2420              		.section	.data.topics,"aw",%progbits
 2421              		.align	2
 2422              		.set	.LANCHOR3,. + 0
 2425              	topics:
 2426 0000 C4010000 		.word	.LC11
 2427 0004 84060000 		.word	.LC53
 2428              		.text
 2429              	.Letext0:
 2430              		.file 2 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\machine\\_defaul
 2431              		.file 3 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\sys\\_stdint.h"
 2432              		.file 4 "cmsis/include/stm32f37x.h"
 2433              		.file 5 "user/include/uart.h"
 2434              		.file 6 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\lib\\gcc\\arm-none-eabi\\5.4.1\\include\
 2435              		.file 7 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\sys\\_timeval.h"
 2436              		.file 8 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\time.h"
 2437              		.file 9 "mqtt/include/config.h"
 2438              		.file 10 "mqtt/include/mqtt_buffer.h"
 2439              		.file 11 "mqtt/include/mqtt.h"
 2440              		.file 12 "user/include/onenet.h"
 2441              		.file 13 "freertos/Source/portable/GCC/ARM_CM4_MPU/portmacro.h"
 2442              		.file 14 "user/include/sim800.h"
 2443              		.file 15 "<built-in>"
 2444              		.file 16 "cmsis/include/core_cm4.h"
 2445              		.file 17 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\string.h"
 2446              		.file 18 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\stdlib.h"
 2447              		.file 19 "mqtt/include/utils.h"
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 60


DEFINED SYMBOLS
                            *ABS*:00000000 onenet.c
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:22     .text.MqttSample_HandlePingResp:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:26     .text.MqttSample_HandlePingResp:00000000 MqttSample_HandlePingResp
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:50     .text.MqttSample_HandlePingResp:0000000c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:55     .text.MqttSample_HandleUnsubAck:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:59     .text.MqttSample_HandleUnsubAck:00000000 MqttSample_HandleUnsubAck
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:82     .text.MqttSample_HandleUnsubAck:0000000c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:87     .text.MqttSample_HandleSubAck:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:91     .text.MqttSample_HandleSubAck:00000000 MqttSample_HandleSubAck
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:142    .text.MqttSample_HandleSubAck:00000028 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:148    .text.MqttSample_HandlePubComp:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:152    .text.MqttSample_HandlePubComp:00000000 MqttSample_HandlePubComp
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:175    .text.MqttSample_HandlePubComp:0000000c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:180    .text.MqttSample_HandlePubRel:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:184    .text.MqttSample_HandlePubRel:00000000 MqttSample_HandlePubRel
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:210    .text.MqttSample_HandlePubRel:00000010 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:215    .text.MqttSample_HandlePubRec:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:219    .text.MqttSample_HandlePubRec:00000000 MqttSample_HandlePubRec
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:245    .text.MqttSample_HandlePubRec:00000010 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:250    .text.MqttSample_HandlePubAck:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:254    .text.MqttSample_HandlePubAck:00000000 MqttSample_HandlePubAck
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:277    .text.MqttSample_HandlePubAck:0000000c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:282    .text.MqttSample_HandleConnAck:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:286    .text.MqttSample_HandleConnAck:00000000 MqttSample_HandleConnAck
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:309    .text.MqttSample_HandleConnAck:0000000c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:314    .text.MqttSample_HandlePublish:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:318    .text.MqttSample_HandlePublish:00000000 MqttSample_HandlePublish
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:445    .text.MqttSample_HandlePublish:0000008c $d
                            *COM*:00000040 g_cmdid
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:451    .text.MqttSample_Publish:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:455    .text.MqttSample_Publish:00000000 MqttSample_Publish
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:540    .text.MqttSample_Publish:0000005c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:548    .text.MqttSample_Init:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:552    .text.MqttSample_Init:00000000 MqttSample_Init
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:669    .text.MqttSample_Init:0000008c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:893    .text.MqttSample_RecvPkt:00000000 MqttSample_RecvPkt
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1365   .text.MqttSample_SendPkt:00000000 MqttSample_SendPkt
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:692    .text.MqttSample_HandleCmd:00000000 MqttSample_HandleCmd
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:688    .text.MqttSample_HandleCmd:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:876    .text.MqttSample_HandleCmd:00000104 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:889    .text.MqttSample_RecvPkt:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:937    .text.MqttSample_RecvPkt:00000024 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:942    .text.MqttSample_Connect:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:946    .text.MqttSample_Connect:00000000 MqttSample_Connect
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1032   .text.MqttSample_Connect:00000064 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1038   .text.MqttSample_Subscribe:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1042   .text.MqttSample_Subscribe:00000000 MqttSample_Subscribe
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1094   .text.MqttSample_Subscribe:00000028 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1099   .text.sendHttpPkt:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1104   .text.sendHttpPkt:00000000 sendHttpPkt
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1171   .text.sendHttpPkt:00000050 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1179   .text.uartDataParse:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1184   .text.uartDataParse:00000000 uartDataParse
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1281   .text.uartDataParse:0000005c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1292   .text.sendPkt:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1297   .text.sendPkt:00000000 sendPkt
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 61


C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1354   .text.sendPkt:00000034 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1361   .text.MqttSample_SendPkt:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1469   .text.MqttSample_SendPkt:00000070 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1476   .text.MqttSample_Savedata11:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1481   .text.MqttSample_Savedata11:00000000 MqttSample_Savedata11
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1668   .text.MqttSample_Savedata11:0000011c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1678   .text.MqttSample_Savedata:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1682   .text.MqttSample_Savedata:00000000 MqttSample_Savedata
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1728   .text.MqttSample_Savedata:00000030 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1733   .text.MqttSample_RespCmd:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1738   .text.MqttSample_RespCmd:00000000 MqttSample_RespCmd
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1805   .text.MqttSample_RespCmd:00000044 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1811   .text.onenetGetDevID:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1816   .text.onenetGetDevID:00000000 onenetGetDevID
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1914   .text.onenetGetDevID:00000074 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1924   .text.onenetConnect:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:1929   .text.onenetConnect:00000000 onenetConnect
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2025   .text.onenetConnect:0000006c $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2032   .text.onenetSubscribe:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2037   .text.onenetSubscribe:00000000 onenetSubscribe
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2081   .text.onenetSubscribe:00000028 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2087   .text.onenetPublish:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2092   .text.onenetPublish:00000000 onenetPublish
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2136   .text.onenetPublish:00000028 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2141   .text.onenetResCmd:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2146   .text.onenetResCmd:00000000 onenetResCmd
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2183   .text.onenetResCmd:00000024 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2188   .text.onenetSendData:00000000 $t
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2193   .text.onenetSendData:00000000 onenetSendData
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2233   .text.onenetSendData:00000024 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2239   .rodata.__FUNCTION__.7793:00000000 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2243   .rodata.__FUNCTION__.7793:00000000 __FUNCTION__.7793
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2246   .bss.onenetContex:00000000 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2250   .bss.onenetContex:00000000 onenetContex
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2253   .rodata.str1.4:00000000 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2414   .rodata.__FUNCTION__.7820:00000000 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2418   .rodata.__FUNCTION__.7820:00000000 __FUNCTION__.7820
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2421   .data.topics:00000000 $d
C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s:2425   .data.topics:00000000 topics
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
puts
printf
strlen
memcpy
memset
sprintf
Mqtt_PackPublishPkt
Mqtt_InitContext
MqttBuffer_Init
__aeabi_ldivmod
strcpy
localtime
putchar
uwBuf_UnReadLen
Uart_Read
ARM GAS  C:\Users\strag\AppData\Local\Temp\cct1Mbp9.s 			page 62


pUartGPRS
Mqtt_PackConnectPkt
Mqtt_PackSubscribePkt
pSim800GPRS
strstr
strchr
atoi
malloc
free
Mqtt_PackCmdRetPkt
mDelay
Mqtt_SendPkt
MqttBuffer_Reset
Mqtt_RecvPkt
